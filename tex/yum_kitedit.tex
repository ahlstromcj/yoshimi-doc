%-------------------------------------------------------------------------------
% yum_kitedit
%-------------------------------------------------------------------------------
%
% \file        yum_kitedit.tex
% \library     Documents
% \author      Chris Ahlstrom
% \date        2015-06-07
% \update      2017-09-24
% \version     $Revision$
% \license     $XPC_GPL_LICENSE$
%
%     Provides the Kit section of the manual.
%
%-------------------------------------------------------------------------------

\section{Kit Edit}
\label{sec:kit_edit}

   The \textsl{Yoshimi} Kit dialog is a dialog for creating a
   set of drums or layered instruments.
   It provides a way to use individual voices and synth blocks to create
   drum-like sounds, or complex layered sounds.
   Within this window one can create drum kits, layered instruments, or one
   can combine more instruments into one instrument.

\begin{figure}[H]
   \centering
   \includegraphics[scale=0.6]{2.3.3/kit.png}
   \caption{Kit Edit Dialog}
   \label{fig:kit_edit_dialog}
\end{figure}

   During development of \textsl{Yoshimi} there have been some minor changes to
   this figure.

   \begin{enumber}
      \item \textbf{Rows 1 to 16.}
         This dialog contains 16 identical rows containing the following
         elements, in the order given:
         \begin{enumber}
            \item \textbf{No.}
            \item \textbf{Enable} (unlabelled checkbox)
            \item \textbf{Mute} (was called "M")
            \item \textbf{Name} (Instrument Name)
            \item \textbf{Min key}
            \item \textbf{m} (set minimum note)
            \item \textbf{R} (reset default note range)
            \item \textbf{M} (set maximum note)
            \item \textbf{Max key}
            \item \textbf{ADsynth}
               \begin{enumber}
                  \item \textbf{Enable}
                  \item \textbf{edit}
               \end{enumber}
            \item \textbf{SUBsynth}
               \begin{enumber}
                  \item \textbf{Enable}
                  \item \textbf{edit}
               \end{enumber}
            \item \textbf{PADsynth}
               \begin{enumber}
                  \item \textbf{Enable}
                  \item \textbf{edit}
               \end{enumber}
            \item \textbf{FX.r.}
         \end{enumber}
      \item \textbf{Mode}
      \item \textbf{Drum mode}
      \item \textbf{Close}
   \end{enumber}

   \setcounter{ItemCounter}{0}      % Reset the ItemCounter for this list.

   \itempar{No}{kit!row number}
   Kit Row Number, Kit Item Number.
   A simple label to indicate the instrument number in the kit.

   \itempar{Enable}{kit!enable}
   Kit Row Enable.  This unlabelled checkbox enables or disables an instrument
   in the kit.

   Item 1 is a special type: it cannot be disabled (but it can be muted), to
   edit it one must use "ADDsynth edit" or "SUBsynth edit" from the part window.

   Value: \texttt{Off*, On}

   \itempar{Mute}{kit!Mute}
   Kit Row "M", now labelled as "Mute".
   Mute an item of the kit.

   \itempar{Instrument Name}{kit!name}
   Kit Instrument Name.

   \itempar{Min key}{kit!minimum key}
   Kit Instrument Minimum Key, was formerly labelled "Min.k".
   Sets the minimum key of the item of the kit.

   \itempar{m}{kit!m}
   Sets the minimum note of this instrument to value of the last note
   pressed.

   \itempar{R}{kit!R}
   Resets the minimum and maximum notes to their default values.

   \itempar{M}{kit!M}
   Sets the maximum note of this instrument to value of the last note
   pressed.

   \itempar{Max key}{kit!maximum key}
   Kit Instrument Maximum Key, was formerly labelled "Max.k".
   Sets the maximum key of the item of the kit.

   \itempar{ADsynth}{kit!addsynth}
   Kit ADDsynth.
   A checkbox is provided to enable/disable this synth component, and
   an edit button is provided to edit the component.

   \itempar{SUBsynth}{kit!subsynth}
   Kit SUBsynth.
   A checkbox is provided to enable/disable this synth component, and
   an edit button is provided to edit the component.

   \itempar{PADsynth}{kit!padsynth}
   Kit PADsynth.
   A checkbox is provided to enable/disable this synth component, and
   an edit button is provided to edit the component.

   \itempar{FX.r}{kit!fx.r}
   Kit Effect.
   Chooses the Part Effect (PartFX) this item will pass through (OFF means no effect its used).

   Values: \texttt{OFF, FX1, FX2, FX3}

   \itempar{Mode}{kit!mode}
   Kit Mode.

\begin{figure}[H]
   \centering
   \includegraphics[scale=1.0]{1.6.0/kit_mode_list.png}
   \caption{Kit Mode}
   \label{fig:kit_mode_list}
\end{figure}

   \index{kit!mode off}
   \index{kit!mode single}
   \index{kit!mode multi}
   \index{kit!mode crossfade}
   \begin{itemize}
      \item \textbf{Off} means no kit is enabled, so one only has the Add,
         Sub, and Pad sounds in the Instrument Edit window.
      \item \textbf{Multi} means all the kit items will sound together
         where their note ranges overlap.
      \item \textbf{Single} means only the lowest numbered item will sound
         in a given note range. There will be no overlap.
      \item \textbf{Crossfade} is described in detail below.
   \end{itemize}

   For example:
   Item 1 has \textbf{Min key} set to 0 and \textbf{Max key} set to 60, and
   Item 2 has \textbf{Min key} set to 40 and \textbf{Max key} set to 127.

   \index{kit!mode single}
   In \textbf{Single mode}, only Item 1 will sound in the note range 0 to
   60, and Item 2 will sound in the range 61 to 127.

   \index{kit!mode multi}
   In \textbf{Multi} mode, only Item 1 will sound in the range 0 to 40, both
   items will sound from 41 to 60, and only Item 2 will sound from 61 to
   127.

   Values: \texttt{Off*, Multi, Single, Crossfade}.

   \index{kit!mode crossfade}
   The part's kit edit \textbf{Mode} menu has an additional entry
   called \textbf{Crossfade}.
   When crossfade is set, one gets \textbf{Multi} behaviour with overlapping key
   ranges, but with a very smooth crossfade between sequential \textsl{pairs}
   of kit items. This follows the pattern 1+2, 3+4, etc. Each pair will not
   affect any other kit items.

   It doesn't matter which of the pair has the lower range, as long as there is
   a range overlap. The code is semi-intelligent, and any that are not paired
   will exhibit normal \textbf{Multi} behaviour. If one item in a pair is not
   enabled then the other one will exhibit normal \textbf{Multi} behaviour and
   will not fade at all.

   An interesting effect is that if one of the pair is enabled, but muted or
   has no engines enabled, then the other one still fades through the overlap
   range, so one can get sounds fading out (or fading in) with increasing
   pitch!

   If one wants a fade to come in then go out again, one needs two sets of pairs,
   with a hard non-overlapped point in the middle.

   \begin{verbatim}
   item 1 - min 0 max 60
   item 2 - min 40 max 80 (fades up)
   \end{verbatim}

   \begin{verbatim}
   item 3 - min 81 max 100 (fades down)
   item 4 - min 90 max 127
   \end{verbatim}

   This feature is backward-compatible, in that older versions of
   \textsl{Yoshimi} will
   see it as an ordinary \textbf{Multi} -- it uses a new variable stored in the
   instrument file that is simply ignored by earlier versions.

   \itempar{Drum mode}{kit!drum mode}
   Kit Drum Mode.
   If drum-mode  is set, then microtonal tuning is ignored for this kit,
   otherwise it could make drum sounds very unpredictable!

   \itempar{Close Window}{kit!close}
   Close.

\iffalse   Direct accces is no longer available
   \index{kit!direct access}
   \index{direct access!kit}
   Once kit mode is set, some direct-access to the kit mode is available.
   We'll set it to 'multi'.

   \begin{verbatim}
      direct 1 64 58 0
   \end{verbatim}

   Kit item 1 is always enabled, although one can mute it and enable/disable the
   individual engines.  To be clear, though, we'll enable kit item 3 and work
   with that; add 32 to the kit number to get 35:

   \begin{verbatim}
      direct 1 64 8 0 35
      direct 56 64 16 0 35             // set its minimum note
      direct 1 64 8 0 35 1             // enable the subsynth engine
      direct 40 64 0 0 3 1             // change its volume
   \end{verbatim}

   Note one adds 32 only for the kit item commands, not for the engine internal
   commands.
\fi

%-------------------------------------------------------------------------------
% vim: ts=3 sw=3 et ft=tex
%-------------------------------------------------------------------------------
