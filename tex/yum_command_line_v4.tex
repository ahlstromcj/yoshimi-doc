%-------------------------------------------------------------------------------
% yum_command_line_v2
%-------------------------------------------------------------------------------
%
% \file        yum_command_line_v2.tex
% \library     Documents
% \author      Chris Ahlstrom
% \date        2015-09-06
% \update      2018-10-26
% \version     $Revision$
% \license     $XPC_GPL_LICENSE$
%
%     Provides the description of the no-gui mode of Yoshimi.
%
%-------------------------------------------------------------------------------

\section{The Yoshimi Command-Line Interface}
\label{sec:command_line}

   \index{CLI}
   \index{cmd}
   \index{command line}
   \textsl{Yoshimi} provides a command-line mode of operation where almost
   all aspects of the application can be controlled via text commands. This
   mode is useful for blind people, those with motor control problems and for
   programmers, for example. These text commands can also be put into a
   script file, and that script can then be run with full error checking.

   By default, starting \textsl{Yoshimi} from a terminal window will enable
   both the command line and the GUI at the same time. However you can
   specifically disable the GUI at the terminal prompt as you start with:
   yoshimi -i or yoshimi --no-gui

   One of the main features of recent \textsl{Yoshimi} releases
   is improved non-GUI accessibility.  In fact,
   \textsl{Yoshimi} can run with neither GUI nor CLI input access. Working
   purely as a hidden MIDI device, a daemon of sorts. To enable a tidy close,
   there is a new short-form NRPN. Just send 68 to both MSB and LSB (CC99 and
   CC98). If you make the LSB 69, it will return an exit value of 16. This is
   the 'forced exit' and can be used by the system for other cleanups and a
   shut down.

   For full details of NRPNs see
   \sectionref{subsection:nrpns_midi_nrpn_basics}

   In a command line environment, all the 'running' commands are available,
   and now all of the instrument editing ones are too. Also, the whole of
   vector control, and MIDI-learn, is exposed to the command line.

   One can decide what MIDI/audio setup is wanted, list and set roots and
   banks, load instruments into any part, change a part's channel, set main
   volume and key shift, and set up vector control.  A number of first-time
   defaults have been changed to make this feature easier.

   When starting from the command line, an argument can be included for a new
   root path to be defined to point to a set of banks fetched from elsewhere.
   This will be given the next free ID. A future upgrade will allow the ID to
   be set to any valid one when it is created, mirroring the GUI behaviour.

   Once running, all configuration can be done within the terminal
   window.  There is also extensive control of roots, banks, parts and
   instruments including the ability to list and set all of these.
   Additional controls that are frequently taken for granted in the GUI, but
   otherwise get forgotten, are \textsl{master key shift} and \textsl{master
   volume}.

   The command-line mode provides extensive error checking and feedback.
   \index{command level}
   The prompt will always show what \textsl{command level}
   one is on, along with relevant information.

   \subsection{Command Depth}
\label{subsec:command_line_command_depth}

   Recent developments in \textsl{Yoshimi} have made it possible to greatly
   (one could say dramatically) extend command-line access deep into the
   synth structures. This creates a problem where the command line itself
   could become unmanageably long.
   Thus, now only the current context level is printed in full. The levels
   higher up the tree are minimised:

   \begin{verbatim}
      yoshimi Part 1+>
      yoshimi P1+, Sub>
      yoshimi P1+, Sub+>
      yoshimi P1+, S+, Filter analog>
   \end{verbatim}

   Rather than stating that a switch is on or off, there is now just a
   \texttt{+} sign for "on", and nothing for "off". This is clearer than
   using a \textsl{-}, and the slight shift in the line gives the user
   another visual clue.

   There is a new command in the "config" context that controls where this is
   displayed, or whether it is shown at all.
   This command is:

   \begin{verbatim}
      EXPose {OFF, ON, PRompt}
   \end{verbatim}

   \textbf{Off} will give the bare prompt with no other information.
   \textbf{On} shows it as a separate line above the prompt:

   \begin{verbatim}
           @ P1+, S+, Filter analog
           yoshimi>
   \end{verbatim}

   \textbf{Prompt} shows it as a part of the prompt:

   \begin{verbatim}
           yoshimi P1+, S+, Filter analog>
   \end{verbatim}

   The default setting is \textbf{ON}.

   At the CLI prompt, when effects are being managed, the preset number is
   also shown on the prompt, so one typically sees something like:

   \begin{verbatim}
      yoshimi p2+ eff 1 reverb-1 >
   \end{verbatim}

   One will also get a confirmation message.
   Here is an example session:

   Starting from the \texttt{yoshimi} prompt:

   \begin{verbatim}
      yoshimi> s p 2 on
      Main Part Number 2
      Part 2 Enable Value 1
      yoshimi part 2+ > s pr 107
      Loaded Smooth Guitar to Part 2
      yoshimi part 2+ >
   \end{verbatim}

   This command \textbf{s}ets \textbf{p}art number 2 to \textbf{pr}ogram
   number 107 from the \textsl{current} instrument bank.
   \textsl{Yoshimi} is now on part 2 as the current part (indicated by the
   prompt), and all subsequent commands will relate to this "level". At this
   level, one can change the current part simply with:

   \begin{verbatim}
      yoshimi part 2+ > s 4 on
      yoshimi part 4+ >
   \end{verbatim}

   For clarity we omit the confirmation messages from here on.

   \textsl{Yoshimi} is now on part number 4. Now set an effect:

   \begin{verbatim}
      yoshimi part 4+ > s ef re
      yoshimi p4+ eff 1 reverb-1 >
   \end{verbatim}

   This command \textbf{s}ets the part's \textbf{ef}fect 1 (implicit) to the
   \textbf{re}verb type.

   Note that many settings parameters are optional, and if omitted, either a
   default or last-used value will be assumed. Also, names are truncated to
   6 characters so the prompt line doesn't get unmanageably long. From here
   one can set a preset for this effect:

   \begin{verbatim}
      yoshimi 4+ eff 1 reverb-1 > s pre 3
   \end{verbatim}

   Since V 1.5.0 the \textbf{pre}sets have been shown in the prompt, and one
   will still get a confirmation message. Also, it used to be necessary to
   enter \textbf{ty}pe for an effect but since V 1.5.10 the name is entered
   directly. Note that when entering effects, there will always be a preset.
   It will be number 1 unless it is changed.

   Many settings that follow in a direct command "path" through several
   levels can be made all at once, and one will be left at the appropriate
   level. Thus, summarising some of the above commands:

   \begin{verbatim}
      yoshimi part 4+ > s ef 2 re
      yoshimi p4+ eff 2 reverb-1>
   \end{verbatim}

   A new feature in \textsl{Yoshimi} V 1.6.0 is a warning when an effect
   isn't at the default settings for the given preset. This is in the form
   of a question mark on the end of the line.
   \begin{verbatim}
      yoshimi p4+ eff 2 reverb-1? >
   \end{verbatim}
   This warning will be there as soon as one changes any of the effect
   controls until either another preset or effect is selected. It will also
   show if a patchset or instrument is loaded that was previously saved with
   altered effects controls.

   One cannot combine \texttt{type} and \texttt{preset} as they
   are both at the same level.

   To go back one level, use the ".." command (reminiscent of the
   \texttt{cd ..} operation in an OS command shell):

   \begin{verbatim}
      yoshimi p4+ eff 2 reverb-5 > ..
      yoshimi part 4+ >
   \end{verbatim}

   To go back to the top command level, use the "/" command:

   \begin{verbatim}
      yoshimi part 4 > /
      yoshimi >
   \end{verbatim}

   These two special level-movement commands can also be put on the front of
   any other command.  Starting where we were before:

   \begin{verbatim}
      yoshimi p4+ eff 2 reverb-1 > .. s vol 70
      yoshimi part 4+ >
   \end{verbatim}

   Part 4 volume is now at 70, and \textsl{Yoshimi} is once again at the
   "part level", not the "part FX level".
%  Also note that the space after the ".." is optional.

   The help menus and lists are also partially context sensitive. This
   feature should help avoid clutter and confusion.

   As well as an immediate history, \textsl{Yoshimi} maintains a single
   command history file for all instances of \textsl{Yoshimi} that records
   any non-duplicated loads or save.  Thus, provided one makes a normal
   command-line exit, the last commands will be available on the next run of
   \textsl{Yoshimi}.

   The command-line now has formal methods of opening, selecting and closing
   additional instances.

   When loading external files from the command line, there is an alternative
   to entering the full name if \textsl{Yoshimi} has already seen this file
   and it is in the history list. In this situation one enters '@' followed
   by the list number.

   \begin{verbatim}
      yoshimi> l h v

      Recent Vectors:
      1  /home/will/another.xvy
      2  /home/will/Subtle.xvy
      3  /home/will/excellent.xvy
      4  /home/will/yoshimi-code/examples/CoolSound.xvy

      yoshimi> lo ve @4
      Main Vector Loaded /home/will/yoshimi-code/examples/CoolSound.xvy to chan 1
   \end{verbatim}

   The loading of externally-saved instruments is also done, by default,
   relative to one's \textsl{Yoshimi} home directory.  However, saving an
   external instrument from the command-line still requires a full pathname.

   The 'recent history' lists can load MIDI-learned files, patchsets, or
   vector files numerically from the associated list, instead of having to
   type the names out.
   \index{cmd!at-sign}
   This uses the '@' (list number) operator.

   Commands with "*" in the description need the setup to be saved, and
   \textsl{Yoshimi} restarted to be activated.

   Note that \textsl{Yoshimi}'s command-line can also load and save states,
   patchsets, and scales, and can list recent histories. Vector load and save
   is also supported from the command-line. That's a complete vector set,
   with all mappings, instruments, etc.
   One can independently decide which channel to load and save from, so that
   one can actually build up a vector set in (say) channel 3, then later
   decide to use it in channel 7. It has the extension \texttt{.xvy},
   standing for "Xml/Vector/Yoshimi".
   Since V 1.5.9 this has also been integrated with the saved states.

   Another small detail is that all of the minimum command-line abbreviations
   are now \textbf{C}apitalised in the help lists.

   The organisation of these features may be adjusted slightly, based on
   comments from users.

\subsection{Command Level}
\label{subsec:command_line_command_level}

   \index{cli!command level}
   \index{cli!context level}
   A command level (also known as a "context level")
   is simply a position in the hierarchy of commands that cover
   some aspect of \textsl{Yoshimi} functionality.
   The major levels are:

   \begin{itemize}
      \item \textbf{Top Level}
      \item \textbf{System Effects}
      \item \textbf{Insertion Effects}
      \item \textbf{Part}
      \item \textbf{Part Effects}
      \item \textbf{Bank}
      \item \textbf{Scales (microtonal)}
      \item \textbf{Vector}
      \item \textbf{Config}
      \item \textbf{Synth Engines}
      \begin{itemize}
         \item \textbf{Addsynth}
         \item \textbf{Addsynth Voice}
         \item \textbf{Subsynth}
         \item \textbf{Padsynth Harmonics}
         \item \textbf{Padsynth Envelopes}
      \end{itemize}
   \end{itemize}

   Any level that has direct numerical content can be changed with "set (n)"
   once at that level.  The level is indicated by the text in the
   \textsl{Yoshimi} prompt.
   For example, one can set 1 to 16 vector channels, so, from the
   \textsl{Top} level, the following command will set the default (1, or the
   last-used number). The second command will, given this level (the
   \textsl{Vector} level), switch to vector channel 5. However, at the start,
   one could have gone straight to 5 with the third command.

   \begin{verbatim}
      set vector                          # or "s ve"; sets the context
      set 5                               # or "s 5"
      set vector 5                        # or "s ve 5"; quicker!
   \end{verbatim}

   A detailed discussion of command-line vector control is presented in
   \sectionref{subsection:vector_command_line}.

\subsection{Command Scripts}
\label{subsec:command_line_command_scripts}

   \textsl{Yoshimi} command-line users can run plain-text scripts that behave
   in exactly the same way as if the commands had been entered from the
   command-line directly.
   The actual script command can be initiated from any context/level and is
   simply:

   \begin{verbatim}
      RUN {filepath-of-script}
   \end{verbatim}

   To avoid confusion, the script routine first sets the context to the top
   level, then performs all the commands, following context level changes. If
   there is a fault in the script, it will be reported along with the number
   of the line where the error occurred. Due to the buffering used, the
   script will return before many of the actions have actually taken place.
   Therefore an error report is likely to be some way up the responses.
   Typically it will be something like:

   \begin{verbatim}
    *** Error: Which Operation? @ line 13 ***
   \end{verbatim}

   Here is a simple example:

   \begin{verbatim}
      # A script test
      set part on
          # These two lines are spaced in a bit
          set add on
      set voice on
      set volume 45
   \end{verbatim}

   This script makes sure the part is on, that the relative addsynth and
   voice are on, and finally sets its volume to 45.

   Although this process starts from the top level, it will use the
   parameters that were last set. Thus, if one had been working on part 7,
   addsynth voice 2, then that is the one that will have its volume adjusted.
   This means one can set up generic preferences, then apply them to any
   part, engine, etc.

   The script routine honours any normal abbreviations. Blank lines are
   ignored. A '\#' at the start of a line marks it as a comment so will also
   be ignored. However, both of these kinds of lines will be in the line
   count if an error is reported.

   Buffering can also cause commands to go out of sequence if a buffered one
   is immediately followed by a related direct one. For this reason there is
   an extra command specific to scripts:

   \begin{verbatim}
      WAIT [n]
   \end{verbatim}

   The command must be entered in full, and the range is 1 to 30,000
   milliseconds.
   In the example below, switching the kit mode is buffered but setting a kit
   item isn't, so without a delay the setting would be attempted before it
   was available. A 20ms wait seems to be enough of a delay in this case.
   \begin{verbatim}
      # Using delays
      s p 1 on
      s add off
      ..
      s mul
      wait 20
      s 5
      s on
      s sub on
   \end{verbatim}

   Since \textsl{Yoshimi} V 2.0.2 there has been an alternative command:
   \begin{verbatim}
      RUNLocal {filepath-of-script}
   \end{verbatim}
   As it's name suggests, this will run from the current context level.

\subsection{Other Command Tables}
\label{subsec:command_line_other_command_tables}

   When running from the command line, commands can be entered after the
   'up and running' message. Commands are \textsl{not} case-sensitive.
   Commands can be abbreviated to the first three letters of each command,
   or, in some cases, just one letter.  This is indicated by uppercase
   letters in command descriptions. The commands available depend on the
   current "context" of the command line. However, there is a group of
   commands always available:

   \begin{itemize}
      \item \texttt{\textbf{?}} or \texttt{\textbf{help}}
      \item \texttt{\textbf{L}ist}
      \item \texttt{\textbf{RES}et}
      \item \texttt{\textbf{EX}it}
   \end{itemize}

   Apart from these commands, the command line works on a system of context
   levels, and normally only the commands relevant to that "level"
   will be available.

   We describe the command lists here. These lists are relative to a
   particular context, and what one sees if one enters \textbf{?} while at
   that level, to get help. However the command lists can all be called
   \textsl{specifically} from any level and the normal abbreviations are
   accepted. For example, to list just the part commands regardless of what
   context it is called from:
   \begin{verbatim}
      yoshimi> ? p
   \end{verbatim}
   \noindent With all of the following commands \newline
   Optional parameters are shown as: [ n ] for numbers or [ s ] for text strings \newline
   Compulsory parameters are shown as: \begin{math} \langle \end{math} n \begin{math} \rangle \end{math} for numbers or \begin{math} \langle \end{math} s \begin{math} \rangle \end{math} for text
   strings.

   \noindent Also, from any level, \textbf{? ?} will show the top level one.


\subsubsection{Top Commands}
\label{subsec:command_line_top_command_list}

   These commands are part of the Top context/command level. First, one gets
   the default options, always available. Then there are several options that
   have ellipsis (...); these are the context submenus. After that come all
   the actual top level controls; there are still a lot!

   \begin{verbatim}
      yoshimi> ?
   \end{verbatim}

   Note that there are a number of commands common to all command levels.
   We describe them here.

\begin{center}
\begin{longtable}{p{6cm} p{10cm}}
\caption[Yoshimi Top-Level Commands]{Yoshimi Top-Level Commands} \\
\texttt{'...'} &
   Indicates a context switch as well as a \textbf{Help} sub-menu. \\
\texttt{Part [n] ...} &
   Enter context level. \\
\texttt{VEctor [n] ...} &
   Enter context level. \\
\texttt{SCale ...} &
   Enter context level. \\
\texttt{MLearn ...} &
   Edit learned lines. \\
\texttt{COnfig ...} &
   Enter context level. \\
\texttt{BAnk ...} &
   Enter context level. \\
\texttt{LIst ...} &
   Show various settings and available parameters. \\
\texttt{LOad ...} &
   Load various files. \\
\texttt{SAve ...} &
   Save various files. \\
\texttt{ADD} &
   Add paths and files. \\
\texttt{- Root <s>} &
   Add a root path named s to the root list. \\
\texttt{- Bank <s>} &
   Add a bank named s to the current root. \\
\texttt{- YOshimi [n]} &
   Start a new instance optionally with ID n. \\
\texttt{IMport [s <n1>] <n2> <s>} &
   Imports a named directory to slot n2 of current root, (or 'Root' n1). \\
\texttt{EXPort [s <n1>] <n2> <s>} &
   Exports a bank at slot n2 of current root, (or 'Root' n1) to named directory
 \\
\texttt{REMove} &
   Remove paths, files, and entries. \\
\texttt{- Root <n>} &
   De-list root path ID n. \\
\texttt{- Bank <n1> [s <n2>]} &
   Delete bank ID n1 (and all instruments) from current root (or 'Root' n2). \\
\texttt{- Instrument <n>} &
   Delete instrument from slot (n) in current bank. \\
\texttt{- YOshimi <n>} &
   Close instance n. \\
\texttt{- MLearn <s> [n]} &
   Delete midi learned 'ALL' whole list, or '@' line n \\

\texttt{Set/Read/MLearn} &
   Set, read or learn all the following main parameters. \\
\texttt{MINimum/MAXimum/DEFault} &
   Or find ranges (mostly in the part context). \\
   \texttt{Part [n] ...} &
   Enter context level. Optionally to part n\\
\texttt{VEctor [n] ...} &
   Enter context level. Optionally to vector n\\
\texttt{SCale ...} &
   Enter context level. \\
\texttt{MLearn ...} &
   Edit learned lines. \\
\texttt{COnfig ...} &
   Enter context level. \\
\texttt{BAnk ...} &
   Enter context level. \\


\texttt{YOshimi [n]} &
   Read the current instance or change to [n]. \\
\texttt{MONo [s]} &
   Switches the main audio output to mono (ON / other). \\

\texttt{SYStem effects [n]} &
   Enter system effect context. Optionally to n. \\
\texttt{- SEnd <n1> <n2>} &
   Send this effect to effect n1 at volume n2. \\
\texttt{...} &
   Effect dependent controls. \\
\texttt{INSert effects [n]} &
   Enter insertion effect context. Optionally to n. \\
\texttt{- SEnd <s>/<n>} &
   Send effect destination to (Master, Off or part number). \\
\texttt{...} &
   Effect dependent controls. \\

\texttt{AVailable <n>} &
   Read available number of parts or set to n = 16, 32, 64. \\
\texttt{Volume <n>} &
   Read Master volume or set to n. \\
\texttt{SHift <n>} &
   Read Master key shift in semitones or set to n (0 no shift). \\
\texttt{DEtune <n>} &
   Read Master fine detune or set to n to match other sound sources. \\
\texttt{SOlo [s]} &
   Read 'solo' switcher or set to (OFF, Row, Column, Loop) \\
\texttt{SOlo CC [n]} &
   Read incoming 'solo' channel number or set to n. \\

\end{longtable}
\end{center}

   Some of the commands in the table above have more extensive descriptions
   in the sections that follow.

\paragraph{List}
\label{paragraph:command_line_list}
   With no suffix this displays all the lists that are available. We show
   this here as the entries are extremely useful.
\begin{center}
\begin{longtable}{p{6cm} p{10cm}}
\caption[Yoshimi Lists]{Yoshimi Lists} \\
\texttt{Roots} &
   all available root paths \\
\texttt{Banks [n]} &
   banks in root ID or current \\
\texttt{Instruments [n]} &
   instruments in bank ID or current \\
\texttt{Group <s1> [s2]} &
   instruments by s1 type grouping (s2 'Location' for extra details) \\
\texttt{Parts [s]} &
   parts with instruments installed ('More' for extra details) \\
\texttt{Vectors} &
   settings for all enabled vectors \\
\texttt{Tuning} &
   microtonal scale tunings \\
\texttt{Keymap} &
   microtonal scale keyboard map \\
\texttt{Config} &
   current configuration \\
\texttt{MLearn [s <n>]} &
   midi learned controls ('@' n for full details on one line) \\
\texttt{SECtion ...} &
   Copy/Paste section presets available for the current context. \\
\texttt{History [s]} &
   recent files (Patchsets, SCales, STates, Vectors, MLearn) \\
\texttt{Effects [s]} &
   effect types ('all' include preset numbers and names) \\
\texttt{PREsets } &
  all the presets for the currently selected effect \\
\texttt{SECtion } &
  all the internal C/P presets for the current section \\
\end{longtable}
\end{center}
\paragraph{MONo}
\label{paragraph:command_line_mono}
    The \textbf{MONo [s]} command is provided for switching between mono and
    stereo on the fly while \textsl{Yoshimi} is actually playing. This helps
    one make sure there is a good balance between these two.

\paragraph{SOlo}
\label{paragraph:command_line_solo}
   The \textbf{SOlo [s]} and \textbf{SOlo CC [n]}
   commands enable and set \textsl{Yoshimi}'s 'Solo' feature,
   whereby one can silently switch MIDI input to different parts.
   The 'Row' and 'Loop' types use the first 16 parts, while
   'Column' type can use all possible 64 parts.

   The type setting has to be decided before setting 'CC', which then
   determines which MIDI controller to listen to for performing the actual
   switch. See \sectionref{subsec:mixer_panel_window}; it goes into more
   details about this setting, at a graphical user interface level.

\paragraph{Set / Read / MLearn Context Levels}
\label{paragraph:command_line_context_levels}

   The Set / Read commands set or read all main parameters and the MLearn one
   initiates a MIDI learn with exactly the same parameters.
   In fact there are three more commands that follow this pattern:

   \begin{itemize}
   \item \texttt{MINimum}. Show the minimum value a command may set.
   \item \texttt{MAXimum}. Show the maximum value a command may set.
   \item \texttt{DEFault}. Show the default value of a command.
   \end{itemize}

   There are a few commands that set the context or command level, where
   additional commands peculiar to the "context" are provided.  Here are the
   command/context levels
   (also see \sectionref{subsec:command_line_command_level}.)
   Note that we also list commands for the effects levels.

   \begin{itemize}
      \item \texttt{Part}. Enter context level for part operations.
      \item \texttt{VEctor}. Enter context level for vector operations.
      \item \texttt{SCale}. Enter context level for scale (microtonal)
      operations.
      \item \texttt{MLearn}. Enter context level for MIDI Learn line editing.
      \item \texttt{COnfig}. Enter context level for configuration settings.
      \item \texttt{SYStem effects [n]}. Enter the effects context level.
      \begin{itemize}
         \item \texttt{[s]}.  Set the effect type directly by name.
         \item \texttt{PREset [n]}. Set the numbered effect preset to n.
         \item \texttt{SEnd [n1] [n2]}. Send the current system effect to
         effect n1 at volume n2.
      \end{itemize}
      \item \texttt{INSert effects [n]}. Enter effects context level.
      \begin{itemize}
         \item \texttt{[s]}. Set the effect type directly by name.
         \item \texttt{PREset [n]}. Set numbered effect preset to n.
         \item \texttt{SEnd [s]/[n]}. Set where to send the effect
            ('Master', 'Off', or a part number).
      \end{itemize}
   \end{itemize}

\paragraph{Part Command Level}
\label{paragraph:command_line_context_level_part}

   This command switches to the part context level and makes all its commands
   accessible.  If no number '[n]' is entered it will be on the default part
   (1) or whatever was the previous part in use.

   \textsl{Yoshimi} has a number of commands for controlling and configuring
   the synth engines from the command-line. First of all there is the part
   kit structure.
   There are three modes (i.e. settings) that the kits of the engines
   can take:

   \begin{enumerate}
      \item MUlti
      \item SIngle
      \item CRossfade
   \end{enumerate}

   These forms are exactly the same as the graphical controls,
   and can be set once in the part context.
   Starting at the part level prompt, this command will return the setting
   on the line after the command, and show a new context level prompt:

   \begin{verbatim}
      yoshimi Part 1+> set multi
      Part 1 Kit Mode multi
      yoshimi p1+, Multi 1+>
   \end{verbatim}

   This setting is at the kit item 1 (which is always enabled).
   Let's change to kit item 4, and, since it hasn't yet been enabled,
   let's enable it and turn on the
   SubSynth engine so that it will sound:

   \begin{verbatim}
      yoshimi p1+, Multi 1+> set 4
      yoshimi p1+, Multi 4> set on
      yoshimi p1+, Multi 4+> set sub on
      yoshimi p1+, M4+ Sub+>
   \end{verbatim}

   Note how the prompt line is more compact, and indicates via the
   plus-signs that the part, kit, and subsynth are all on.

   These new controls are shown in the part context help list.
   The synth engines, AddSynth, Voice, SubSynth and PadSynth also have
   their own contexts with appropriate help lists.
   Also, LFO, Filter, Envelope and Resonance have their own contexts
   above whichever engine they are sitting on, so again have their own
   help lists.
   A fairly deep context is:

   \begin{verbatim}
      yoshimi P1+, M4+, A+, Voice 5+> set lfo frequency on
   \end{verbatim}

   From the voice context, this command would set the context shown below.

   \begin{verbatim}
      yoshimi P1+, M4+, A+, V5+, LFO freq+>
   \end{verbatim}

   The need for compression is obvious, and once at this level, the
   \texttt{?} command will list the LFO controls.

\subsubsection{Part Common Commands}
\label{subsec:command_line_part_common_commands}
The idea of having a list of common commands is now deprecated. This is
because although originally intended to keep the individual command lists to
manageable proportions, it actually made it more confusing when trying
to see what controls were available in each context.
\newpage
\subsubsection{Part Commands}
\label{subsec:command_line_part_commands}

   Note that the table below assumes one is already at part level.

\begin{center}
\begin{longtable}[l]{ ll}
\caption[Part Commands]{Part Commands} \\
   \label{table:yoshimi_part_commands}
\texttt{(part)~[n]} &
   Change part number.  \\
\texttt{[ON/OFF]} &
   Enables / Disables the part. \\
\texttt{Volume~[n]} &
   Volume.  \\
\texttt{Pan~[n]} &
   Panning.\\
\texttt{VElocity~[n]} &
   Velocity sensing sensitivity. \\
\texttt{LEvel~[n]} &
   Velocity sense offset level.  \\
\texttt{MIn [[s][n]]} &
   Minimum MIDI last seen, or note value.   \\
\texttt{MAx [[s][n]]} &
   Maximum MIDI last seen, or note value.   \\
\texttt{FUll} &
   Restore full key range.   \\
\texttt{POrtamento [s]} &
   (ON / other).   \\
\texttt{Mode [s]} &
   Mode (Poly, Mono, Legato). \\
\texttt{Note [n]} &
   Polyphony.  \\
\texttt{SHift [n]} &
   Shift semitones (0 no shift). \\
\texttt{BYpass [n] [s]} &
   bypass part effect number n, (ON / other).  \\
\texttt{EFfects [n]} &
   Enter effects context level and optionally change number.  \\
 \texttt{(effect) [s]} &
   Effect type.   \\
 \texttt{(effect) PREset [n]} &
   Numbered effect preset to n. \\
 \texttt{(effect)~Send~[n1]~[n2]} &
   Current part to system effect n1 at volume n2. \\
\texttt{PRogram~[s]/[[s]~[n]]} &
   Instrument ID / Group (n) loads from search list. \\
\texttt{LAtest} &
   The most recent bank instrument loaded or saved. \\
\texttt{TYPe [s]} &
   The instrument type, i.e. Piano, Guitar etc. \\
\texttt{NAme [s]} &
   The display name the part can be saved with. \\
\texttt{COPyright [s]} &
   The copyright message. \\
\texttt{INFo [s]} &
   Additional information, use suggestions. \\
\texttt{Humanise Pitch [n]} &
   A small random detune. \\
\texttt{Humanise Velocity [n]} &
   A small random velocity reduction. \\
\texttt{CLear} &
  Resets the part to the default 'Simple Sound'. \\
\texttt{Channel [n]} &
   CHannel (32 disables, 16 note off only).   \\
\texttt{AFtertouch~Chan~<s1>~[s2]} &
   Off, Filter (Down) + Peak (Down) + Bend (Down) + Modulation + Volume. \\
\texttt{AFtertouch~Key~<s1>~[s2]} &
   Off, Filter (Down) + Peak (Down) + Bend (Down) + Modulation. \\
\texttt{Destination [s]} &
   JACK audio destination (Main, Part, Both).  \\
\texttt{MUlti} &
   Set kit mode and allow kit item overlaps. \\
\texttt{SIngle} &
   Set kit mode and only lowest numbered item in key range. \\
\texttt{CRoss} &
   Set kit mode and cross fade item pairs. \\
\texttt{KIT} &
   Re-enter kit mode editing if it is enabled. \\
\texttt{NORmal} &
   Return to normal (not kit) mode. \\
   \texttt{(kit mode) [n]} &
      Kit item number (1-16). \\
   \texttt{(kit mode) [ON/OFF]} &
      Enables / Disables and removes the kit item. \\
   \texttt{(kit mode) QUiet [s]} &
      Mute this kit item without changing it's features (ON, {other}). \\
   \texttt{(kit item) MIn [[s][n]]} &
      Minimum MIDI last seen, or note value   \\
   \texttt{(kit item) MAx [[s][n]]} &
      Maximum MIDI last seen, or note value.   \\
   \texttt{(kit item) FUll} &
      Restore full key range.   \\
   \texttt{(kit item) EFfect [n]} &
      Effect for this item (0-none, 1-3). \\
   \texttt{(kit item) NAme [s]} &
      The name of this item. \\
    \texttt{DRum [s]} &
      Kit to drum mode (ON, {other}). \\
\texttt{ADDsynth ...} &
   Enter AddSynth context. \\
\texttt{SUBsynth ...} &
   Enter SubSynth context. \\
\texttt{PADsynth ...} &
   Enter PadSynth context. \\
\texttt{MCOntrol ...} &
   Enter MIDI controllers context. \\
\end{longtable}
\end{center}

   Kit mode is an unusual form of context level as it either modifies some
   part level controls or adds new ones. At the same time it still allows
   all the other part controls. The examples below show how kit mode
   interacts with part, and how one is informed of the exact status.

   \begin{verbatim}
      yoshimi Part 1+> set multi
      yoshimi Part 1+, Multi 1+> set 2
      yoshimi Part 1+, Multi 2+> ..
      yoshimi Part 1+, (Multi)> set 3
      yoshimi Part 3> set 1
      yoshimi Part 1+, (Multi) set kit
      yoshimi Part 1+, Multi 1+>
   \end{verbatim}

   Note how the kit mode is shown in parenthesis when not actually in the kit
   editing context. Also, to disable kit mode the specific \textbf{NOR}mal
   command must be used, as the \textbf{ON/OFF} commands refer to individual
   kit items.

\paragraph{Part MIDI Controllers}
\label{paragraph:command_line_part_midi_commands}
   \begin{table}[H]
      \centering
      \caption{Part MIDI Controllers}
      \label{table:yoshimi_part_midi_commands}
      \begin{tabular}{l l}
\texttt{VOlume [s]} &
   enables/disables volume control (OFF / other). \\
\texttt{VRange [n]} &
   relative degree of volume control. \\
\texttt{PAn [n]} &
   relative range (width) of panning control. \\
\texttt{MOdwheel [s]} &
   enables/disables exponential modulation (ON / other). \\
\texttt{MRange [n]} &
   relative modulation control range. \\
\texttt{EXpression [s]} &
   enables/disables expression control (OFF / other). \\
\texttt{SUstain [s]} &
   enables/disables sustain control (OFF / other). \\
\texttt{PWheel [n]} &
   relative pitch wheel control range. \\
\texttt{BReath [s]} &
   enables/disables breath control (OFF / other). \\
\texttt{CUtoff [n]} &
   relative filter cutoff control range. \\
\texttt{Q [n]} &
   relative filter Q control range. \\
\texttt{BANdwidth [s]} &
   enables/disables exponential bandwidth (ON / other). \\
\texttt{BARange [n]} &
   relative bandwidth control range. \\
\texttt{FMamplitude [s]} &
   enables/disables FM amplitude control (OFF / other). \\
\texttt{RCenter [n]} &
   resonance center frequency. \\
\texttt{RBand [n]} &
   resonance bandwidth. \\
\texttt{POrtamento [s]} &
   enables/disables portamento control (OFF / other). \\
\texttt{PGate [n]} &
   point where portamento starts or ends. \\
\texttt{PForm [s]} &
   whether portamento is from or to (Start, End). \\
\texttt{PTime [n]} &
   portamento sweep speed. \\
\texttt{PDownup [n]} &
   portamento up/down speed ratio. \\
\texttt{PProportional [s]} &
   enables/disables proportional portamento (ON / other). \\
\texttt{PExtent [n]} &
   distance to double change. \\
\texttt{PRange [n]} &
   difference from non proportional. \\
\texttt{CLear} &
   set all controllers to defaults. \\
      \end{tabular}
   \end{table}

   It is also possible to emulate the action of some incoming MIDI CCs. This
   was initially needed so that they can be MIDI-learned, but also provides
   a means of checking and modifying these settings directly.

   \begin{table}[H]
      \centering
      \caption{MIDI Emulators}
      \label{table:yoshimi_part_midi_emulators}
      \begin{tabular}{l l}
\texttt{E Modulation [n]} &
   emulate modulation controller. \\
\texttt{E Expression [n]} &
   emulate expression controller. \\
\texttt{E BReath [n]} &
   emulate breath controller (MIDI and CLI only). \\
\texttt{E Cutoff [n]} &
   emulate filter cutoff controller. \\
\texttt{E Q [n]} &
   emulate filter Q controller. \\
\texttt{E BAndwidth [n]} &
   emulate bandwidth controller. \\
      \end{tabular}
   \end{table}

   The following commands are available once in the context for the various
   types of synth engines:

\paragraph{Part AddSynth Commands}
\label{paragraph:command_line_part_addsynth_commands}
   \begin{table}[H]
      \centering
      \caption{Part AddSynth Commands}
      \label{table:yoshimi_part_addsynth_commands}
      \begin{tabular}{l l}
\texttt{[ON/OFF]} &
   Enables / Disables the AddSynth engine. \\
\texttt{Volume [n]} &
   AddSynth Volume.  \\
\texttt{Pan [n]} &
   Panning position.\\
\texttt{PRandom [s]} &
   Enable random panning (ON / other).\\
\texttt{PWidth [n]} &
   Random panning range.\\
\texttt{VElocity [n]} &
   Velocity sensing sensitivity. \\
\texttt{STEreo [s]} &
   Sets this engine as stereo or mono (ON / other). \\
\texttt{DEPop [n]} &
   Initial attack slope.   \\
\texttt{PUnch Power [n]} &
   Attack boost amplitude. \\
\texttt{PUnch Duration [n]} &
   Attack boost time.   \\
\texttt{PUnch Stretch [n]} &
   Attack boost extend. \\
\texttt{PUnch Velocity [n]} &
   Attack boost velocity sensitivity.  \\
\texttt{DETune Fine [n]} &
   Fine frequency.   \\
\texttt{DETune Coarse [n]} &
   Coarse stepped frequency.  \\
\texttt{DETune Type [s]} &
   Type of coarse stepping. (DEFault, L35, L10, E100, E1200)  \\
\texttt{OCTave [n]} &
   Shift octaves up or down.  \\
\texttt{GRoup [s]} &
   Disables harmonic amplitude randomness of voices \\
\texttt{ } &
             with a common oscillator (ON / other). \\
\texttt{Bandwidth [n]} &
   Modifies the relative fine detune of voices. \\
\texttt{VOice ...} &
   Enter the Addsynth voice context. \\
\texttt{LFO ...} &
   Enter LFO insert context.  \\
\texttt{FILter ...} &
   Enter Filter insert context.  \\
\texttt{ENVelope ...} &
   Enter Envelope insert context.   \\
\texttt{REsonance ...} &
   Enter the AddSynth resonance context. \\
      \end{tabular}
   \end{table}

   \begin{table}[H]
      \caption{AddSynth Voice Commands}
      \label{table:yoshimi_part_addsynth_voice_commands}
      \begin{tabular}{l l}
\texttt{(voice) [n]} &
   Change voice number.  \\
\texttt{[ON/OFF]} &
   Enables / Disables the Voice. \\
\texttt{Volume [n]} &
   Voice Volume.  \\
\texttt{Pan [n]} &
   Panning position.\\
\texttt{PRandom [s]} &
   Enable random panning (ON / other).\\
\texttt{PWidth [n]} &
   Random panning range.\\
\texttt{VElocity [n]} &
   Velocity sensing sensitivity. \\
\texttt{BENd Adjust [n]} &
   Pitch bend range. \\
\texttt{BENd Offset [n]} &
   Pitch bend shift. \\
\texttt{DETune Fine [n]} &
   Fine frequency.   \\
\texttt{DETune Coarse [n]} &
   Coarse stepped frequency.  \\
\texttt{DETune Type [n]} &
   Type of coarse stepping.   \\
\texttt{OCTave [n]} &
   Shift octaves up or down.  \\
\texttt{FIXed [s]} &
   Set base frequency to 440Hz (ON / other).  \\
\texttt{EQUal [n]} &
   Equal temper variation. \\
\texttt{Type [s]} &
   Sound type (Oscillator, White noise, Pink noise, Spot noise). \\
\texttt{SOurce [n]} &
   Voice source number (Local for self). \\
\texttt{OSCillator [n]} &
   Oscillator source number (Internal for self). \\
\texttt{Phase [n]} &
   Relative voice phase. \\
\texttt{Minus [s]} &
   Invert entire voice (ON / other). \\
\texttt{DELay [n]} &
   Delay before this voice starts. \\
\texttt{Resonance [s]} &
   Enable resonance for this voice (ON / other). \\
\texttt{Bypass [s]} &
   Bypass global filter for this voice (ON / other). \\
\texttt{Unison [s]} &
   (ON, OFF). \\
\texttt{Unison Size[n]} &
   Number of unison elements. \\
\texttt{Unison Frequency[n]} &
   Frequency spread of elements. \\
\texttt{Unison Phase[n]} &
   Phase randomness of elements. \\
\texttt{Unison Width[n]} &
   Stereo width. \\
\texttt{Unison Vibrato[n]} &
   Vibrato depth. \\
\texttt{Unison Rate[n]} &
   Vibrato speed. \\
\texttt{Unison Invert [s]} &
   Phase inversion type (None, Random, Half, Third, Quarter, Fifth). \\
\texttt{MOdulator ...} &
   Enter the modulator context. \\
\texttt{WAveform ...} &
   Enter the oscillator waveform context. \\
\texttt{LFO ...} &
   Enter LFO insert context.  \\
\texttt{FILter ...} &
   Enter Filter insert context.  \\
\texttt{ENVelope ...} &
   Enter Envelope insert context.   \\
      \end{tabular}
   \end{table}

   \begin{table}[h]
      \caption{Voice Modulator Commands}
      \label{table:yoshimi_part_addsynth_voice_modulator_commands}
      \begin{tabular}{l l}
\texttt{[s]} &
   Directly set the type (OFF, Morph, Ring, Phase, Frequency, Pulse width). \\
\texttt{SOurce [[s]/[n]]} &
   Oscillator source (Local, voice number). \\
\texttt{Volume [n]} &
   Modulator depth.  \\
\texttt{VElocity [n]} &
   Velocity sensing sensitivity. \\
\texttt{Damping [n]} &
   Higher frequency relative damping. \\
\texttt{OSCillator [[s]/[n]]} &
   Modulation oscillator (Internal, modulator number). \\
\texttt{FOLlow [s]} &
   Use source oscillator detune (ON / other). \\
\texttt{SHift [n]} &
   Oscillator relative phase. \\
\texttt{WAveform ...} &
   Enter the modulator waveform context. \\
      \end{tabular}
   \end{table}

\paragraph{Part PadSynth Commands}
\label{paragraph:command_line_part_padsynth_commands}

   \begin{table}[H]
      \centering
      \caption{Part PadSynth Commands}
      \label{table:yoshimi_part_padsynth_commands}
      \begin{tabular}{l l}
\texttt{[ON/OFF]} &
   Enables / Disables the PadSynth engine. \\
\texttt{Volume [n]} &
   PadSynth Volume. \\
\texttt{Pan [n]} &
   Panning position.\\
\texttt{PRandom [s]} &
   Enable random panning (ON / other).\\
\texttt{PWidth [n]} &
   Random panning range.\\
\texttt{VElocity [n]} &
   Velocity sensing sensitivity. \\
\texttt{STEreo [s]} &
   Sets this engine as stereo or mono (ON / other). \\
\texttt{DEPop [n]} &
   Initial attack slope.   \\
\texttt{PUnch Power [n]} &
   Attack boost amplitude. \\
\texttt{PUnch Duration [n]} &
   Attack boost time. \\
\texttt{PUnch Stretch [n]} &
   Attack boost extend. \\
\texttt{PUnch Velocity [n]} &
   Attack boost velocity sensitivity. \\
\texttt{BENd Adjust [n]} &
   Pitch bend range. \\
\texttt{BENd Offset [n]} &
   Pitch bend shift. \\
\texttt{DETune Fine [n]} &
   Fine frequency. \\
\texttt{DETune Coarse [n]} &
   Coarse stepped frequency. \\
\texttt{DETune Type [n]} &
   Type of coarse stepping. \\
\texttt{OCTave [n]} &
   Shift octaves up or down. \\
\texttt{FIXed [s]} &
   Set base frequency to 440Hz (ON / other). \\
\texttt{EQUal [n]} &
   Equal temper variation. \\
\texttt{PRofile [s]} &
   The shape of harmonic profile (Gauss, Square Double exponent). \\
\texttt{WIdth [n]} &
   Width of the harmonic profile. \\
\texttt{COunt [n]} &
   Number of profile repetitions. \\
\texttt{EXpand [n]} &
   Adds harmonics and changes the distribution. \\
\texttt{FRequency [n]} &
   Further modifies distribution (dependent on stretch). \\
\texttt{SIze [n]} &
   Changes harmonic width while retaining shape. \\
\texttt{CRoss [s]} &
   Cross section of profile (Full, Upper, Lower). \\
\texttt{MUltiplier [s]} &
   amplitude multiplier (Off, Gauss, Sine, Flat). \\
\texttt{MOde [s]} &
   Amplitude mode (Sum, Mult, D1, D2). \\
\texttt{CEnter [n]} &
   Changes the central harmonic component width. \\
\texttt{RELative [n]} &
   Changes central component relative amplitude. \\
\texttt{AUto [s]} &
   Autoscaling (ON / other). \\
\texttt{BASe [s]} &
   Base profile distribution (C2, G2, C3, G3, C4, G4, C5, G5, G6). \\
\texttt{SAmples [n]} &
   Samples per octave (0.5, 1, 2, 3, 4, 6, 12). \\
\texttt{RAnge [n]} &
   Number of octaves (1 to 8). \\
\texttt{LEngth [n]} &
   Length of one sample in k (16, 32, 64, 128, 256, 512, 1024). \\
\texttt{BAndwidth [n]} &
   Overall bandwidth. \\
\texttt{SCale [s]} &
   Bandwidth scale. (Normal, Equalhz, Quarter, Half, Three Quarter,\\
\texttt{} &
   One and a half, Double, Inverse Half).\\
\texttt{SPectrum [s]} &
   Spectrum mode (Bandwidth, Discrete, Continuous). \\
\texttt{OVertone Position [s]} &
   Relationship to fundamental (HArmonic, SIne,\\
\texttt{} &
   POwer, SHift, UShift, LShift, UPower, LPower). \\
\texttt{OVertone First [n]} &
   Degree of first parameter. \\
\texttt{OVertone Second [n]} &
   Degree of second parameter.   \\
\texttt{OVertone Harmonic [n]} &
   Amount harmonics are forced.  \\
      \end{tabular}
   \end{table}

   \begin{table}
      \begin{tabular}{l l}
\texttt{XFadeupdate [n]} &
   Cross fade (millisec) after building new wavetable. \\
\texttt{BUildtrigger [n]} &
   Re-trigger wavetable build after n millisec. \\
\texttt{RWDetune [n]} &
   Random walk spread of voice detune on re-triggered build (0 off 96 factor 2). \\
\texttt{RWBandwidth [n]} &
   Random walk spread of line bandwidth. \\
\texttt{RWFilterFreq [n]} &
   Random walk spread of filter cutoff frequency. \\
\texttt{RWWidthProfile [n]} &
   Random walk spread of profile line width. \\
\texttt{RWStretchProfile [n]} &
   Random walk spread of profile modulation stretch. \\
\texttt{APply} &
   Puts the latest changes into the wavetable. \\
\texttt{XPort} &
   Export the current sample set to named file. \\
\texttt{WAveform ...} &
   Enter the oscillator waveform context. \\
\texttt{LFO ...} &
   Enter LFO insert context.  \\
\texttt{FILter ...} &
   Enter Filter insert context.  \\
\texttt{ENVelope ...} &
   Enter Envelope insert context.   \\
\texttt{REsonance ...} &
   Enter the PadSynth resonance context. \\
      \end{tabular}
   \end{table}


\paragraph{Part SubSynth Commands}
\label{paragraph:command_line_part_subsynth_commands}

   \begin{table}[H]
      \centering
      \caption{Part SubSynth Commands}
      \label{table:yoshimi_part_subsynth_commands}
      \begin{tabular}{l l}
\texttt{[ON/OFF]} &
   Enables / Disables the SubSynth engine. \\
\texttt{Volume [n]} &
   SubSynth Volume.  \\
\texttt{Pan [n]} &
   Panning position.\\
\texttt{PRandom [s]} &
   Enable random panning (ON / other).\\
\texttt{PWidth [n]} &
   Random panning range.\\
\texttt{VElocity [n]} &
   Velocity sensing sensitivity. \\
\texttt{STEreo [s]} &
   Sets this engine as stereo or mono (ON / other). \\
\texttt{BENd Adjust [n]} &
   Pitch bend range. \\
\texttt{BENd Offset [n]} &
   Pitch bend shift. \\
\texttt{DETune Fine [n]} &
   Fine frequency.   \\
\texttt{DETune Coarse [n]} &
   Coarse stepped frequency.  \\
\texttt{DETune Type [n]} &
   Type of coarse stepping. (DEFault, L35, L10, E100, E1200)  \\
\texttt{OCTave [n]} &
   Shift octaves up or down.  \\
\texttt{FIXed [s]} &
   Set base frequency to 440Hz (ON / other).  \\
\texttt{EQUal [n]} &
   Equal temper variation. \\
\texttt{HArmonic [n1] Amp [n2]} &
   Set harmonic n1 to n2 intensity. \\
\texttt{HArmonic [n1] Band [n2]} &
   Set harmonic n1 to n2 width. \\
\texttt{HArmonic Stages [n]} &
   Number of stages. \\
\texttt{HArmonic Mag [s]} &
   Harmonics filtering type. (Linear, 40dB, 60dB, 80dB, 100dB)\\
\texttt{HArmonic Position [s]} &
   Start position. (Zero, Random, Maximum)\\
\texttt{BAnd Width [n]} &
   Common bandwidth. \\
\texttt{BAnd Scale [n]} &
   Bandwidth slope versus frequency. \\
\texttt{OVertone Position [s]} &
   Relationship to fundamental (HArmonic, SIne,\\
\texttt{} &
   POwer, SHift, UShift, LShift, UPower, LPower).\\
\texttt{OVertone First [n]} &
   Degree of first parameter. \\
\texttt{OVertone Second [n]} &
   Degree of second parameter.   \\
\texttt{OVertone Harmonic [n]} &
   Amount harmonics are forced.  \\
\texttt{FILter ...} &
   Enter Filter insert context.  \\
\texttt{ENVelope ...} &
   Enter Envelope insert context.   \\
      \end{tabular}
   \end{table}

\paragraph{Part Resonance Commands}
\label{paragraph:command_line_part_resonance_commands}

   \begin{table}[H]
      \centering
      \caption{Resonance Commands}
      \label{table:part_resonance_commands}
      \begin{tabular}{l l}
   \texttt{(enable) [s]} &
      Activate resonance (ON / other). \\
    \texttt{PRotect [s]} &
      Leave fundamental unchanged (ON / other). \\
   \texttt{Maxdb [n]} &
      Set the maximum attenuation of points. \\
   \texttt{Random [s]} &
      Set a random distribution (Coarse, Medium, Fine). \\
   \texttt{CEnter [n]} &
      Set the center frequency of the resonance range. \\
   \texttt{Octaves [n]} &
      The number of octaves covered. \\
   \texttt{Interpolate [s]} &
      Turn isolated peaks into lines or curves (Linear, Smooth). \\
   \texttt{Smooth} &
      Reduce range and sharpness of peaks. \\
   \texttt{CLear} &
      Set all points to the mid level. \\
   \texttt{POints [[n1] [n2]]} &
      Show all or read n1 or set n1 to n2 \\
      \end{tabular}
   \end{table}

\paragraph{Part Waveform Commands}
\label{paragraph:command_line_part_waveform_commands}

   \begin{table}[H]
      \centering
      \caption{Part Waveform Commands}
      \label{table:yoshimi_part_waveform_commands}
      \begin{tabular}{l l}
   \texttt{[s]} &
      Directly set the basic waveform type by name. \\
   \texttt{HArmonic [n1] Amp [n2]} &
      Set harmonic n1 to n2 intensity. \\
   \texttt{HArmonic [n1] Phase [n2]} &
      Set harmonic n1 to n2 phase. \\
   \texttt{Harmonic Shift [n]} &
      Amount harmonics are moved. \\
   \texttt{Harmonic Before [s]} &
      Shift before waveshaping and filtering (ON other). \\
   \texttt{COnvert} &
       Change resultant wave to groups of sine waves. \\
   \texttt{CLear} &
      Clear harmonic settings. \\
   \texttt{Base Par [n]} &
      Basic wave parameter. \\
   \texttt{Base Mod Type [s]} &
      Basic modulation type (OFF, Rev, Sine Power). \\
   \texttt{Base Mod Par [n1] [n2]} &
       Parameter number n1 (1 - 3) set to n2 value. \\
   \texttt{Base Convert [s]} &
       Use resultant wave as basic waveform type. \\
   \texttt{} &
      Also clear modifiers and harmonics (OFF other). \\
   \texttt{SHape Type [s] } &
      Wave shape modifier type. (OFF, ATAn, ASYm1, POWer, SINe,\\
   \texttt{} &
       QNTs, ZIGzag, LMT, ULMt, LLMt, ILMt, CLIp, AS2, PO2, SGM) \\
   \texttt{SHape Par [n]} &
      Wave shape modifier amount. \\
   \texttt{Filter Type [s]} &
      (OFF, LP1, HPA1, HPB1, BP1, BS1, LP2, HP2, BP2, BS2, \\
      \texttt{} &
      COS, SIN, LSH, SGM)\\
   \texttt{Filter Par [n1] [n2]} &
      Filter parameters  n1 (1/2) set to n2 value. \\
   \texttt{Filter Before [s]} &
      Do filtering before waveshaping (ON other). \\
   \texttt{Modulation Par [n1] [n2]} &
      Overall modulation parameter n1 (1 - 3) set to n2 value. \\
   \texttt{SPectrum Type [s]} &
       Spectrum adjust type (OFF, Power, Down/Up threshold). \\
   \texttt{SPectrum Par } &
      Spectrum adjust amount. \\
   \texttt{ADdaptive Type [s]} &
      Adaptive harmonics (OFF, ON, SQUare, 2XSub, 2XAdd, \\
   \texttt{} &
       3XSub, 3XAdd, 4XSub, 4XAdd) \\
   \texttt{ADdaptive Base [n]} &
      Adaptive base frequency. \\
   \texttt{ADdaptive Level [n]} &
      Adaptive power. \\
   \texttt{ADdaptive Par [n]} &
      Adaptive parameter amount. \\

   \texttt{APply} &
      Fix settings (only for PadSynth). \\
      \end{tabular}
   \end{table}

   This list shows the "basic waveform type" settings available.

   \begin{itemize}
      \item SINe
      \item TRIangle
      \item PULse
      \item SAW
      \item POWer
      \item GAUss
      \item DIOde
      \item ABSsine
      \item PULsesine
      \item STRetchsine
      \item CHIrp
      \item ASIne
      \item CHEbyshev
      \item SQUare
      \item SPIke
      \item CIRcle
   \end{itemize}

\subsubsection{Engine Envelopes}
\label{subsec:command_line_engine_envelopes}

   \begin{table}[H]
      \centering
      \caption{Engine Envelopes, Type}
      \label{table:yoshimi_engine_envelopes_types}
      \begin{tabular}{l l}
\texttt{AMplitude} &
   Amplitude type. \\
\texttt{FRequency} &
   Frequency type. \\
\texttt{FIlter} &
   Filter type. \\
\texttt{BAndwidth} &
   Bandwidth type (SubSynth only). \\
      \end{tabular}
   \end{table}

   \begin{table}[H]
      \centering
      \caption{Engine Envelopes, Controls}
      \label{table:yoshimi_engine_envelopes_controls}
      \begin{tabular}{l l}
\texttt{Expand [n]} &
   Envelope time on lower notes. \\
\texttt{Force [s]} &
   Force release (ON / other). \\
\texttt{Linear [s]} &
   Linear slopes (ON / other). \\
\texttt{FMode [s]} &
   Set as Freemode (ON / other). \\
      \end{tabular}
   \end{table}

   \begin{table}[H]
      \centering
      \caption{Engine Envelopes, Fixed}
      \label{table:yoshimi_engine_envelopes_fixed}
      \begin{tabular}{l l}
\texttt{Attack Level [n]} &
   Initial attack level. \\
\texttt{Attack Time [n]} &
   Time before decay point. \\
\texttt{Decay Level [n]} &
   Initial decay level. \\
\texttt{Decay Time [n]} &
   Time before sustain point. \\
\texttt{Sustain [n]} &
   Sustain level. \\
\texttt{Release Time [n]} &
   Time to actual release. \\
\texttt{Release Level [n]} &
   Level at envelope end. \\
      \end{tabular}
   \end{table}

Example: "S FR D T 40" is "set frequency decay time 40".

Note: Some envelopes have limited controls.

   \begin{table}[H]
      \centering
      \caption{Engine Envelopes, Freemode}
      \label{table:yoshimi_engine_envelopes_freemode}
      \begin{tabular}{l l}
\texttt{Points} &
   Number of defined points (read only). \\
\texttt{Sustain [n]} &
   Point number where sustain starts. \\
\texttt{Insert [n1] [n2] [n3]} &
   Insert point at n1 with X increment n2, Y value n3. \\
\texttt{Delete [n]} &
   Remove point n. \\
\texttt{Change [n1] [n2] [n3]} &
   Change point n1 to X increment n2, Y value n3. \\
      \end{tabular}
   \end{table}

\subsubsection{Engine Filters}
\label{subsec:command_line_engine_filters}

   \begin{table}[H]
      \centering
      \caption{Engine Filters}
      \label{table:yoshimi_engine_filters}
      \begin{tabular}{l l}
\texttt{CEnter [n]} &
   Center frequency. \\
\texttt{Q [n]} &
   Q factor.   \\
\texttt{Velocity [n]} &
   Velocity sensitivity.   \\
\texttt{SLope [n]} &
   Velocity curve.   \\
\texttt{Gain [n]} &
   Overall amplitude.   \\
\texttt{TRacking [n]} &
   Frequency tracking.  \\
\texttt{Range [s]} &
   Extended tracking (ON, {other}) - goes from 0 to 198. \\
\texttt{STages [n]} &
   filter stages (1 to 5). \\
\texttt{CAtegory [s]} &
   Analog, Formant, State variable. \\
\texttt{TYpe [s]} &
   Category dependent, and not formant filters.  See the filter types below.   \\
\texttt{EDit ...} &
   Formant filter only. Enter the format editor. See below.   \\
      \end{tabular}
   \end{table}

   The list of filter types:

   \begin{itemize}
      \item Analog filters:
      \begin{itemize}
          \item \textbf{l1}. One stage low pass.
          \item \textbf{h1}. One stage high pass.
          \item \textbf{l2}. Two stage low pass.
          \item \textbf{h2}. Two stage high pass.
          \item \textbf{band}. Two stage band pass.
          \item \textbf{stop}. Two stage band stop.
          \item \textbf{peak}. Two stage peak.
          \item \textbf{lshelf}. Two stage low shelf.
          \item \textbf{hshelf}. Two stage high shelf.
      \end{itemize}
      \item State variable filters:
      \begin{itemize}
         \item \textbf{low}. Low pass.
         \item \textbf{high}. High pass.
         \item \textbf{band}. Band pass.
         \item \textbf{stop}. Band stop.
      \end{itemize}
   \end{itemize}

   \begin{table}[H]
      \centering
      \caption{Engine Filters, Formant Editor}
      \label{table:yoshimi_engine_filters_formant_editor}
      \begin{tabular}{l l}

\texttt{Invert [s]} &
   Invert effect of LFOs, envelopes (ON, OFF). \\
\texttt{CEnter [n]} &
   Center frequency of sequence. \\
\texttt{Range [n]} &
   Octave range of formant. \\
\texttt{Expand [n]} &
   Stretch overall sequence time. \\
\texttt{Lucidity [n]} &
   Clarity of vowels. \\
\texttt{Morph [n]} &
   Speed of change between formants. \\
\texttt{SIze [n]} &
   Number of vowels in sequence. \\
\texttt{COunt [n]} &
   Number of formants in vowels. \\
\texttt{VOwel [n]} &
   Vowel being processed. \\
\texttt{Point [n1] [n2]} &
   Sequence position n1 vowel n2. \\
\texttt{Formant [n]} &
   Formant being processed. \\
\texttt{per formant} &
    \\
\texttt{-  FRequency [n]} &
   Center frequency of formant. \\
\texttt{-  Q [n]} &
   Bandwidth of formant. \\
\texttt{-  Gain} &
   Amplitude of formant. \\
      \end{tabular}
   \end{table}

\subsubsection{Engine LFOs}
\label{subsec:command_line_engine_lfos}

   \begin{table}[H]
      \centering
      \caption{Engine LFOs}
      \label{table:yoshimi_engine_lfos}
      \begin{tabular}{l l}

\texttt{AMplitude} &
   Amplitude type. \\
\texttt{FRequency} &
   Frequency type. \\
\texttt{FIlter} &
   Filter type. \\
\texttt{ - Controls - } & \\
\texttt{Rate [n]} &
   Frequency. \\
\texttt{Intensity [n]} &
   Amount of effect. \\
\texttt{Start [n]} &
   Start position in cycle. \\
\texttt{Delay [n]} &
   Time before effect. \\
\texttt{Expand [n]} &
   Rate / note pitch. \\
\texttt{BPM [s]} &
   Sync frequency to MIDI clock (ON / other). \\
\texttt{Continuous [s]} &
   Free running - ignore start position (ON / other). \\
\texttt{Type [s]} &
   LFO oscillator shape. See the list below. \\
\texttt{AR [n]} &
   Amplitude randomness. \\
\texttt{RR [n]} &
   Rate (frequency) randomness. \\

      \end{tabular}
   \end{table}

Example: "S FI T RU" sets the filter type, ramp up.
Filter types (s parameter, LFO oscillator shape):

   \begin{itemize}
      \item SIne
      \item Triangle
      \item SQuare
      \item RUp (ramp up)
      \item RDown (ramp down)
      \item E1dn
      \item E2dn
      \item SH (sample / hold)
      \item RSU (random square up)
      \item RSD(random square down)
   \end{itemize}

\subsection{MLearn}
\label{subsec:command_line_mlearn}
   There are actually two entry points for MLearn. The first takes the same form
   as set/read and initiates the MIDI learning process for a given control.
   The second is within 'set' and is for editing current lines.

   To enter the context for the second form start out with:
   \begin{verbatim}
      set mlearn
   \end{verbatim}
   and to find out what lines have been set:
   \begin{verbatim}
      list mlearn
   \end{verbatim}
   This will show all the current learned lines with their list numbers.
   In the same way as for the other numbered contexts, one can set the number
   of the line directly to edit it.

   The available commands are:

   \begin{itemize}
      \item \texttt{MUte [s]}, Set to ON disables or, for any other provided token
         restores this line.
      \item \texttt{SEven} will interpret a learned NRPN as a 7-bit value.
      \item \texttt{CC [n]} will set the incoming controller value that will
         be recognised.  This command might re-order the list.
      \item \texttt{CHan [n]} will set the incoming channel number that will
         be recognised.  This command might re-order the list.
      \item \texttt{MIn [n]} will set the conversion for the incoming
         value to a minimum percentage.
      \item \texttt{MAx [n]} will set the conversion for the incoming
         value to a maximum percentage.
      \item \texttt{LImit [s]} set to Enable will use limiting instead of
         compression.  The conversion uses the minimum and maximum limits.
      \item \texttt{BLock [s]} set to ON, prevents this CC/channel pair from
        being passed on to any other lines or system controls.  It has no effect
        if the line has been muted.
   \end{itemize}

\subsection{EFfects Commands}
\label{subsec:command_line_effects}
   Since V 1.5.10 all effects controls have been exposed. However those
   available change dependent on the specific effect that is being managed.
   These controls are the same for System, Insertion and individual part
   effects. However, the exception is the 'Level' control that most of these
   have. This refers to the 'Dry/Wet' proportion of the effect apart from in
   System effects where it behaves as a volume control, without changing the
   'through' content.

   While part effects are 'immediate', in that one hears the results as soon as
   an effect type is selected, System effects need the part's \textbf{send} level
   to be increased, as it defaults to zero. Insertion effects however, need to
   have a \textbf{send} route selected as well as the effect type.

   There is some extra information given in V 1.5.11.
   When one chooses a new effect the first preset is always selected, which can
   then be edited to taste. Up to now, there was no indication that it had
   been altered apart from checking each control against its default. One
   could easily forget having edited this - especially if saving everything and
   coming back to it some days later.

   In more recent \textsl{Yoshimi} versions there is a '?' on the end of the line if any of the
   controls on that preset are not the default values.
   So:
   \begin{verbatim}
      yoshimi> s sys 2 rev
      yoshimi Sys eff 2 REverb-1> s pre 4
      yoshimi Sys eff 2 REverb-4> s pan 36
   \end{verbatim}
   This has now changed the preset.
   \begin{verbatim}
      yoshimi Sys eff 2 REverb-4?> s pre 4
      yoshimi Sys eff 2 REverb-4>
   \end{verbatim}
   Notice how even re-selecting the same preset will return it to its default
   settings, and would be an easy mistake if there was no warning.

   Just leaving the effects to work on another part of \textsl{Yoshimi}, then
   returning to them won't change anything of course, and will again correctly
   show whether the current one has been altered.

\subsubsection{Effects List}
\label{subsubsec:command_line_effects_list}
   Below is the list of the effects themselves:
   \begin{itemize}
      \item OFF
      \item REverb
      \item ECho
      \item CHorus
      \item PHaser
      \item ALienwah
      \item DIstortion
      \item EQ
      \item DYnfilter
   \end{itemize}

   Here, in detail are the controls available for each effect:
% Reverb
   \begin{table}[H]
      \centering
      \caption{Reverb}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{PANning [n]} &
   Left-right panning. \\
\texttt{TIMe [n]} &
   Reverb time. \\
\texttt{DELay [n]} &
   Initial delay. \\
\texttt{FEEdback [n]} &
   Delay feedback. \\
\texttt{LOW [n]} &
   Low pass filter. \\
\texttt{HIGh [n]} &
   High pass filter. \\
\texttt{DAMp [n]} &
   Feedback damping. \\
\texttt{TYPe [s]} &
   Reverb type (Random, Freeverb, Bandwidth). \\
\texttt{ROOm [n]} &
   Room size. \\
\texttt{BANdwidth [n]} &
   Actual bandwidth (only for bandwidth type). \\
\texttt{PREset [n]} &
   Select numbered preset (sets all above controls). \\
      \end{tabular}
   \end{table}
   Reverb presets:
   \begin{enumerate}
      \item cathedral 1
      \item cathedral 2
      \item cathedral 3
      \item hall 1
      \item hall 2
      \item room 1
      \item room 2
      \item basement
      \item tunnel
      \item echoed 1
      \item echoed 2
      \item very long 1
      \item very long 2
    \end{enumerate}

% Echo
   \begin{table}[H]
      \centering
      \caption{Echo}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{PANning [n]} &
   Left-right panning. \\
\texttt{DELay [n]} &
   Initial delay. \\
\texttt{LRDelay [n]} &
   Left-right delay. \\
\texttt{CROssover [n]} &
   Left-right crossover. \\
\texttt{FEEdback [n]} &
   Echo feedback. \\
\texttt{DAMp [n]} &
   Feedback damping. \\
\texttt{SEPerate} &
   Change DELay to left delay and LRDelay to right delay. \\
\texttt{BPM [s>]} &
   delay BPM sync (ON / other) \\
\texttt{PREset [n]} &
   Select numbered preset (sets all above controls). \\
      \end{tabular}
   \end{table}
Echo presets:
   \begin{enumerate}
      \item echo 1
      \item echo 2
      \item simple echo
      \item canyon
      \item panning echo 1
      \item panning echo 2
      \item panning echo 3
      \item feedback echo
    \end{enumerate}

% Chorus
   \begin{table}[H]
      \centering
      \caption{Chorus}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{PANning [n]} &
   Left-right panning. \\
\texttt{FREquency [n]} &
   LFO frequency. \\
\texttt{RANdom [n]} &
   LFO randomness. \\
\texttt{WAVe [s]} &
   LFO waveshape (sine, triangle). \\
\texttt{SHIft [n]} &
   Left-right phase shift. \\
\texttt{DEPth [n]} &
   LFO depth. \\
\texttt{DELay [n]} &
   LFO delay. \\
\texttt{FEEdback [n]} &
   Chorus feedback. \\
\texttt{CROssover [n]} &
   Left-right routing. \\
\texttt{SUBtract [s]} &
   Invert output (ON / other). \\
\texttt{BPM [s]} &
   LFO BPM sync (ON / other). \\
\texttt{STArt [n]} &
   LFO BPM phase start. \\
\texttt{PREset [n]} &
   Select numbered preset (sets all above controls). \\
      \end{tabular}
   \end{table}
Chorus presets:
   \begin{enumerate}
      \item chorus 1
      \item chorus 2
      \item chorus 3
      \item celeste 1
      \item celeste 2
      \item flange 1
      \item flange 2
      \item flange 3
      \item flange 4
      \item flange 5
   \end{enumerate}

% Phaser
   \begin{table}[H]
      \centering
      \caption{Phaser}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{PANning [n]} &
   Left-right panning. \\
\texttt{FREquency [n]} &
   LFO frequency. \\
\texttt{RANdom [n]} &
   LFO randomness. \\
\texttt{WAVe [s]} &
   LFO waveshape (sine, triangle). \\
\texttt{SHIft [n]} &
   Left-right phase shift. \\
\texttt{DEPth [n]} &
   LFO depth. \\
\texttt{FEEdback [n]} &
   Phaser feedback. \\
\texttt{STAges [n]} &
   The number of filter stages. \\
\texttt{CROssover [n]} &
   Left-right routing. \\
\texttt{SUBtract [s]} &
   Invert output against source (ON / other). \\
\texttt{HYPer [s]} &
   Hyper-sine (ON / other). \\
\texttt{OVErdrive [n]} &
   Distortion. \\
\texttt{ANAlog [s]} &
   Analog emulation  (ON / other). \\
\texttt{BPM [s]} &
   LFO BPM sync (ON / other). \\
\texttt{STArt [n]} &
   LFO BPM phase start. \\
\texttt{PREset [n]} &
   Select numbered preset (sets all above controls). \\
      \end{tabular}
   \end{table}
Phaser presets:
   \begin{enumerate}
   \item phaser 1
   \item phaser 2
   \item phaser 3
   \item phaser 4
   \item phaser 5
   \item phaser 6
   \item aphaser 1
   \item aphaser 2
   \item aphaser 3
   \item aphaser 4
   \item aphaser 5
   \item aphaser 6
   \end{enumerate}

% Alienwah
   \begin{table}[H]
      \centering
      \caption{Alienwah}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{PANning [n]} &
   Left-right panning. \\
\texttt{FREquency [n]} &
   LFO frequency. \\
\texttt{WAVe [s]} &
   LFO waveshape (sine, triangle). \\
\texttt{SHIft [n]} &
   Left-right phase shift. \\
\texttt{DEPth [n]} &
   LFO depth. \\
\texttt{FEEdback [n]} &
   Filter feedback. \\
\texttt{DELay [n]} &
   LFO delay. \\
\texttt{CROssover [n]} &
   Left-right routing. \\
\texttt{RELative [n]} &
   Relative phase. \\
\texttt{BPM [s]} &
   LFO BPM sync (ON / other). \\
\texttt{STArt [n]} &
   LFO BPM phase start. \\
\texttt{PREset [n]} &
   Select numbered preset (sets all above controls). \\
      \end{tabular}
   \end{table}
AlienWah presets:
   \begin{enumerate}
   \item alienwah 1
   \item alienwah 2
   \item alienwah 3
   \item alienwah 4
   \end{enumerate}

% Distortion
   \begin{table}[H]
      \centering
      \caption{Distortion}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{PANning [n]} &
   Left-right panning. \\
\texttt{MIX [n]} &
   Left-right mix. \\
\texttt{DRIve [n]} &
   Input level. \\
\texttt{OUTput [n]} &
   Output balance. \\
\texttt{WAVe [s]} &
   Function waveshape (ATAn, ASYm1, POWer, SINe, QNTs,\\
\texttt{ } &
    ZIGzag, LMT, ULMt, LLMt, ILMt, CLIp, AS2, PO2, SGM) \\
\texttt{INvert [s]} &
   Invert ?  (ON / other). \\
\texttt{LOW [n]} &
   Low pass filter. \\
\texttt{HIGh [n]} &
   High pass filter. \\
\texttt{STEreo [s]} &
   Stereo (ON / other). \\
\texttt{FILter [s]} &
   Filter before distortion (ON / other). \\
\texttt{PREset [n]} &
   Select numbered preset (sets all above controls). \\
      \end{tabular}
   \end{table}
Distortion presets:
   \begin{enumerate}
   \item overdrive 1
   \item overdrive 2
   \item exciter 1
   \item exciter 2
   \item guitar amp
   \item quantisize
   \end{enumerate}

% EQ
   \begin{table}[H]
      \centering
      \caption{EQ}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{BANd [n]} &
   EQ band number for following controls. \\
\texttt{- FILter [s]} &
   Filter type (LP1, HP1, LP2, HP2, NOT, PEA, LOW, HIG). \\
\texttt{- FREquency [n]} &
   Cutoff/band frequency. \\
\texttt{- GAIn [n]} &
   Makeup gain. \\
\texttt{- Q [n]} &
   Filter Q. \\
\texttt{- STAges [n]} &
   The number of \textsl{extra} filter stages. \\
      \end{tabular}
   \end{table}
EQ has no presets.

% DynFilter
   \begin{table}[H]
      \centering
      \caption{Dynfilter}
      \begin{tabular}{l l}
\texttt{LEVel [n]} &
   Amount of the effect. \\
\texttt{PANning [n]} &
   Left-right panning. \\
\texttt{FREquency [n]} &
   LFO frequency. \\
\texttt{RANdom [n]} &
   LFO randomness. \\
\texttt{WAVe [s]} &
   LFO waveshape (sine, triangle). \\
\texttt{SHIft [n]} &
   Left-right phase shift. \\
\texttt{DEPth [n]} &
   LFO depth. \\
\texttt{INVert [s]} &
   Reverse effect of sensitivity (ON / other). \\
\texttt{RATe [n]} &
   Speed of filter change with amplitude. \\
\texttt{FILter ...} &
   Enter the dynamic filter context. (a stock filter)\\
\texttt{BPM [s]} &
   LFO BPM sync (ON / other). \\
\texttt{STArt [n]} &
   LFO BPM phase start. \\
\texttt{PREset [n]} &
   Select numbered preset (sets all above controls). \\
      \end{tabular}
   \end{table}
DynFilter presets:
   \begin{enumerate}
   \item wahwah
   \item autowah
   \item vocal morph 1
   \item vocal morph 2
   \end{enumerate}

\subsection{Bank Commands}
\label{subsec:command_line_bank_command_list}

   During the development of \textsl{Yoshimi} V 1.6 it was realised that
   the command line had little control of instrument bank management.
   This was expanded in V 1.6.1. One can read the list of
   \textbf{Bank} commands from any level with '? b'.

   \begin{verbatim}
      yoshimi> ? b
   \end{verbatim}

   In the table that follows, we leave off the commands already noted
   above in the first table
   (see \sectionref{subsec:command_line_top_command_list}).

   \begin{table}[H]
      \centering
      \caption{Yoshimi Bank Commands}
      \label{table:yoshimi_text_bank_commands}
      \begin{tabular}{l l}

   \texttt{Bank} &
   Enters the Bank context. \\
   \texttt{[n]} &
   Sets the current bank to the one at slot n of the current bank root \\
   \texttt{  } &
   or reads the current bank's slot and name. \\
  \texttt{Name [s]} &
  Changes or reads just the name of the current bank. \\
  \texttt{Root [n]} &
  Sets the current bank root to n or reads the current full path. \\
  \texttt{Root ID [n]} &
  Changes the current bank root ID to n.  \\
  \texttt{INstrument Rename [n] [s]} &
  Changes the name of the instrument in slot n of the current bank.  \\
  \texttt{INstrument SAve [n]} &
  Saves the current part's instrument to bank slot n.  \\

        \end{tabular}
   \end{table}

\subsection{Vector Commands}
\label{subsec:command_line_vector_command_list}

   Although \textbf{Vector} is a top-level control, one can read the list of
   commands from any level with '? ve'.

   \begin{verbatim}
      yoshimi part 1+> ? ve
   \end{verbatim}
   A vector can be set on any standard MIDI channel, and allows a two or four
   part column to be managed as pairs for the given controls.
   The commands at this level deal with control of an X axis and a Y axis.
   The CC for the X axis must be set before everything else.  Then the CC for
   the Y axis must be set.  Finally, the other Y controls can be set.

   In the table that follows, we leave off the commands already noted
   above in the first table
   (see \sectionref{subsec:command_line_top_command_list}).

   Note that for vectors, n by itself is the base channel.

   \begin{table}[H]
      \centering
      \caption{Yoshimi Vector Commands}
      \label{table:yoshimi_text_vector_commands}
      \begin{tabular}{l l}

\texttt{VEctor} &
   Enters the Vector context. \\
   \texttt{[n]} &
   Changes the channel number for setting/editing.\\
\texttt{[X/Y] CC [n]} &
   CC n is used for the X or Y axis sweep. \\
\texttt{[X/Y] Features [n] [s]} &
   Sets X or Y features n = 1 to 4 (s = "Enable", "Reverse", other = off).  \\
\texttt{[X] PRogram [l/r] [n]} &
   Sets X program change ID n for left or right part. \\
\texttt{[Y] PRogram [d/u] [n]} &
   Sets Y program change ID n forL DOWN or UP part. \\
\texttt{[X/Y] Control [n1] [n2]} &
   Sets n2 CC to use for X or Y feature n1 = 2 to 4. \\
\texttt{Off} &
   Disables vector control for this channel.  Parts are unchanged. \\
\texttt{Name [s]} &
   Sets the internal name to s for this complete vector.  \\

      \end{tabular}
   \end{table}

   The \textbf{X/Y Features} command sets the features for the
   selected axis, and also if they are to be off or reversed.

   The \textbf{X/Y Control [n1] [n2]} command
   sets the n2 CC to use for the X or Y feature n1 = 2 to 4.
   This allows a change of the actual CC associated with features 2 through 4.
   They can be any CC that \textsl{Yoshimi} recognises.

   Feature 1 is always fixed as Volume, and cannot be reversed. It is arranged
   such that it will try to maintian a constant overall volume from the paired
   instruments.

\subsection{Scales Commands}
\label{subsec:command_line_scales_command_list}

   A fairly new one is the scales list:

   \begin{verbatim}
      yoshimi> ? sc
   \end{verbatim}

   In the table that follows, we leave off the following commands, already noted
   above in the first table
   (see \sectionref{subsec:command_line_top_command_list}):
   \textbf{?}, \textbf{Help}, \textbf{STop}, \textbf{RESet},
   \textbf{EXit}, \textbf{..}, and \textbf{/}.

\begin{center}
\begin{longtable}{p{4cm} p{10cm}}
\caption[Yoshimi Scales Commands]{Yoshimi Scales Commands} \\

\texttt{[ON/OFF]} & Enable/disable microtonal tuning. \\
\texttt{IMPort [s1] [s2]} &
   Import Scala file s2 to s1 TUNing or KEYmap.  \\
\texttt{EXPort [s1] [s2]} &
   Export s1 TUNing or KEYmap to Scala file s2. \\

\texttt{FRequency [n]} &
   Set the reference note's actual frequency to n, usually 69 (A4) to 440 Hz. \\
\texttt{NOte [n]} &
   Set the reference note's number to n. \\
\texttt{Invert [s]} &
   Invert the entire scale (ON / other) \\
\texttt{CEnter [n]} &
   Set the note number of the key's center to n. \\
\texttt{SHift [n]} &
   Shift the entire scale up or down by n. \\
\texttt{SCale [s]} &
   Activate microtonal scale (ON / other). \\
\texttt{MApping [s]} &
   Activate keyboard mapping (ON / other). \\
\texttt{FIrst [n]} &
   Set the first note number to be mapped to n. \\
\texttt{MIddle [n]} &
   Set the middle note number to be mapped to n. \\
\texttt{Last [n]} &
   Set the last note number to be mapped to n. \\
\texttt{Tuning [s1]} &
   Set the CSV tuning values.
   Tuning sets the CSV tuning values, which are decimal numbers or ratios
   (n1.n1 or n1/n1, n2.n2 or n2/n2, etc.).\\
\texttt{Keymap [s]} &
   Set the CSV keymap (n1, n2, n3, etc.)
   Keymap sets the keyboard mapping values as a comma separated list. \\
\texttt{SIze [n]} &
   Sets the actual keymap size. \\
\texttt{NAme [s]} &
   Set the internal name for this scale. \\
\texttt{DEscription [s]} &
   Sets the description of this scale. \\
\texttt{CLEar} &
   Clear all settings and revert to the standard scale. \\
\end{longtable}
\end{center}


\subsection{Help List}
\label{subsec:command_line_help_list}

   One can now clearly see which items can be listed with:

   \begin{verbatim}
      yoshimi> list
      yoshimi> help
   \end{verbatim}

   In general \textbf{?} and \textbf{help} indicate what can be changed, while
   \textbf{list} reports what the current status is. In fact in most contexts just 'L' by itself works!

   In the table that follows, we leave off commands noted above
   (see \sectionref{subsec:command_line_top_command_list}).

\begin{center}
\begin{longtable}{p{4cm} p{10cm}}
\caption[Yoshimi Help Commands]{Yoshimi Help Commands} \\

\texttt{Roots} &
   List all available root paths. \\
\texttt{Banks [n]} &
   List the banks in root ID [n] or the current root.
   This command shows all of the banks present in either the numbered ([n])
   bank root, or in the current one (if no number is provided).  \\
\texttt{Instruments [n]} &
   List instruments in bank ID [n] or current bank.
   This command shows all of the instruments present in either the numbered
   (n) bank root, or in the current one (if no number is provided).  \\
\texttt{Group [s1] [s2]} &
   List instruments types, s1 (name) list all of that type with list number, \\
\texttt{ } &
   s2 'Location' include root, bank, instrument numbers. \\
\texttt{Parts} &
   List parts with instruments installed. ('More' for extra details)\\
\texttt{Vectors} &
   List settings for all enabled vectors. \\
\texttt{Config} &
   List dynamic configuration. \\
\texttt{Tuning} &
   Microtonal scale tunings. See the Scales section. \\
\texttt{Keymap} &
   Microtonal scale keyboard map.  See the Scales section. \\
\texttt{Config} &
   Show the current configuration. See the Config section. \\
\texttt{MLearn [s[n]]} &
   MIDI learned controls ('@ n' for full details on one line). \\
\texttt{History [s]} &
   Show recent files. See the extensive description below. \\
\texttt{Effects [s]} &
   List the effect types ([s] = 'all' includes preset numbers and names).
   If this command is called from the Effects level, then one see only the name
   of the current effect and the number of presets. \\
\texttt{PREsets} &
   Show all the presets for the currently selected effect. \\

\end{longtable}
\end{center}

A few more detailed descriptions occur in the following sections, where there
is not enough room in the table above.

\subsubsection{List Group [s]}
\label{subsec:command_line_instrument_group_list}
   By itself, \textbf{List Group} or \textbf{L G} will show what instrument types
   are available. Repeating the command with one of these names will then search
   the entire bank structure listing the ones of that type, along with an index
   number. Assuming one is at part level, load this instrument into the current
   part with:
   \begin{verbatim}
      set instrument group (n)
   \end{verbatim}

   Unfortunately many instrument authors didn't identify a type, so the
   \textbf{undefined} list is the longest (although with revision
   of banks in V 2.0, this has reduced somewhat).

\subsection{List History [s]}
\label{subsec:command_line_list_history}

   Show the recent history of the following items [s]:
   Instruments, Patchsets, SCales, STates, Vectors, and MLearn).
   If no parameter is provided, show them all.

   The last-used file in any section is now always at the top of its history list,
   so it's easier to pick up where one left off.
   Instruments, patch sets, vectors, scales, MIDI-learn and state all offer the
   most recent entry whenever one wants to load or save.  On first-time use (when
   there is no history) the home directory will be offered as a location,
   regardless of where \textsl{Yoshimi} was called from.

   In the specific case of instruments, when \textsl{saving},
   one is offered the instrument in the currently-selected part to the home
   directory, otherwise, when saving these 'managed' files,
   one won't be offered the previous last-used entry unless it was seen on that
   session, either by being loaded, or saved by name. This is to give some
   protection against accidental overwrites.

   For example:
   You have been working on the 'foo' instrument
   for a whole day, saving the whole patch set as you
   go. Then, the following day, you start up \textsl{Yoshimi}
   and immediately have a completely
   new idea 'bar' and start working on it. Without thinking, you save and hit
   Enter. Oops, you just wiped out 'foo'.
   Only now you haven't, because loading \textsl{Yoshimi}
   afresh would not have seen the older file, so now, saving
   will offer the home directory to put a new name in.

\subsubsection{List Load/Save}
\label{subsec:command_line_loadsave_list}

   And the same for load and save:

   \begin{verbatim}
      yoshimi> ? lo
      yoshimi> ? sa
   \end{verbatim}

   In the tables that follow, we leave off the commands noted above
   (see \sectionref{subsec:command_line_top_command_list}).

   \begin{table}[H]
      \centering
      \caption{Yoshimi Load Commands}
      \label{table:yoshimi_text_load_commands}
      \begin{tabular}{l l}

\texttt{Instrument [s]} &
   Load instrument to current part from a named file [s]. \\
\texttt{SCale [s]} &
   Load and activate scale settings from named file [s]. \\
\texttt{VEctor [n] [s]} &
   Load and activate vector to channel n (or saved) from named file [s]. \\
\texttt{Patchset [s]} &
   Load and activate a complete patch set from named file [s]. \\
\texttt{MLearn [s]} &
   Load the full MIDI learned list from named file [s]. \\
\texttt{STate [s]} &
   Load all system settings and patch sets from named file [s]. \\

      \end{tabular}
   \end{table}

   For the \textbf{Load Instrument} command, the instrument is enabled if it is
   configured to be enabled.  For the \textbf{Load Vector} command, if there is
   no number parameter, the vector is loaded to the channel it was originally
   saved from.
   For the \textbf{Load Patchset} command, all instruments, scales, and vectors
   are loaded from the named file.
   For the \textbf{Load STate} command, all configuration, system settings,
   patch sets, and MIDI-learned lines are loaded from the named file.
   These notes also apply to the \textbf{Save} version of these commands.

   \begin{table}[H]
      \centering
      \caption{Yoshimi Save Commands}
      \label{table:yoshimi_text_loadsave_commands}
      \begin{tabular}{l l}

\texttt{Instrument [s]} &
   Save current part to named file [s]. \\
\texttt{SCale [s]} &
   Save current scale settings to named file [s]. \\
\texttt{VEctor [n] [s]} &
   Save vector on channel n to named file [s]. \\
\texttt{Patchset [s]} &
   Save complete set of instruments to named file [s]. \\
\texttt{MLearn [s]} &
   Save midi learned list to named file [s]. \\
\texttt{STate [s]} &
   Save all system settings etc. to named file [s].  See above. \\
\texttt{Config} &
   Save current configuration. \\

      \end{tabular}
   \end{table}

\subsubsection{Config Commands}
\label{subsec:command_line_config_list}

   Finally there is the (quite big) COnfig command level:

   \begin{verbatim}
      yoshimi> ? con
   \end{verbatim}

   In the table that follows, we leave off the commands noted above
   (see \sectionref{subsec:command_line_top_command_list}).  Also
   note that more complete descriptions follow this table.

\begin{center}
\begin{longtable}{p{4cm} p{10cm}}
\caption[Yoshimi Config Commands]{Yoshimi Config Commands} \\

\texttt{Oscillator [n]} &
   * Add/Pad size (power 2 256-16384).
   This sets the size of the buffer used for both AddSynth and PadSynth
   oscillators, and is always a power of 2.  \\
\texttt{BUffer [n]} &
   * Internal size (power 2 16-4096).
   This is the size of the audio buffer that \textsl{Yoshimi} uses.  For ALSA
   audio, it will always be the same size as ALSA's buffering, but for JACK it
   can be the same, bigger, or smaller. It is always a power of 2. \\
\texttt{PAdsynth [s]} &
   Interpolation type (Linear, other = cubic).
   Sets the quality of the interpolation that PadSynth uses on its wavetables.
   'Linear' is faster, but 'Cubic' is (potentially) very slightly better
   quality. \\
\texttt{BUIldpad [s]} &
   PADSynth wavetable build mode (Muted, Background, Autoapply)\\
\texttt{Virtual [n]} &
   Keyboard layout (0 = QWERTY, 1 = Dvorak, 2 = QWERTZ, 3 = AZERTY).
   This setting controls the layout of the virtual keyboard, and can match the
   commonest computer keyboards. \\
\texttt{Xml [n]} &
   Set the XML compression level to [n] (0-9).
   This is the amount of compression used on all
   \textsl{Yoshimi}'s data files. 9 is the most-compressed setting.
   0 is no compression, so that the configuration file
   can be read in an ordinary text editor. \\
\texttt{REports [s]} &
   Destination for reporting (Stdout, other = console).
   Determines where almost all information and error messages will be sent. A
   few will always go to \texttt{stderr} (such as the ones reporting a GUI
   problem). \\
\texttt{SAved [s]} &
   Saved instrument type. (Legacy - .xiz, Yoshimi - .xiy, Both).\\
\texttt{ENGine [s]} &
   Enable instrument engines and types info (OFF, {other})
   Slower initial start, but bank instruments can be selected by type and
   engines will be identified in lists.\\
\texttt{EXPose [s]} &
   Show current context level (ON, OFF, PRompt).\\
\texttt{STate [s]} &
   * Autoload default at start (Enable; other = disable).
   Sets whether a pre-saved default state file will be loaded on start-up. \\
\texttt{SIngle [s]} &
   * Force 2nd startup to open new instance instead (ON / other)\\
\texttt{Hide [s]} &
   Hide non-fatal errors (Enable; other = disable).
   Sets to ignore non-fatal system errors, or verbose messages. \\
\texttt{Display [s]} &
   GUI splash screen (Enable; other = disable).
   Enables \textsl{Yoshimi}'s start-up splash screen (which is
   enabled at first time start). \\
\texttt{Time [s]} &
   Add to instrument load message (Enable; other = disable).
   Attaches the time an instrument took to load and initialise to the loading
   message. \\
\texttt{Include [s]} &
   Include XML headers on file load (Enable; other = disable). \\
\texttt{Keep [s]} &
   Include inactive data on all file saves (Enable; other = disable).
   Sets up to include all data on file saves, including data for
   inactive and random elements. \\
\texttt{Gui [s]} &
   * Run with GUI (Enable, Disable).
   Run with the command-line interface enabled or disabled.  \\
\texttt{Cli [s]} &
   * run with CLI (Enable, Disable).
   Run with the command-line interface enabled. \\
\texttt{LOCk [s1][s2]} &
   Lock history of group s1 (ON, OFF).
   Groups - INstrument, PAtchset, SCale, STate, VEctor, MLearn. \\
\texttt{MIdi [s]} &
   * connection type (Jack, Alsa).
   Sets whether MIDI input comes from JACK or from ALSA.
   If not specified, JACK is the default, if it is present.  Otherwise,
   \textsl{Yoshimi} falls back to ALSA. \\
\texttt{AUdio [s]} &
   * connection type (Jack, Alsa).
   Sets whether audio is passed out to JACK or ALSA.  Again, JACK is the
   default, and ALSA is the fall-back.  \\
\texttt{ALsa Type [s]} &
   * midi connection type (Fixed, Search, External)
   Sets whether to use the list below, search for sources, or none at all. \\
\texttt{ALsa Midi [s]} &
   * comma separated source name list.
   Sets the entries of a list of ALSA MIDI sources to which
   \textsl{Yoshimi}i will try to connect.  \\
\texttt{ALsa Audio [s]} &
   * Name of ALSA audio hardware device.
   Sets the name of a hardware (or software)
   audio device to which ALSA will try to connect.  \\
\texttt{ALsa Sample [n]} &
   * ALSA sampling rate (0 = 192000, 1 = 96000, 2 = 48000, 3 = 44100).
   Sets the sampling rate when using ALSA audio. \\
\texttt{Jack Midi [s]} &
   * Name of JACK MIDI source.
   Sets the name of a JACK MIDI source to which
   \textsl{Yoshimi} will try to connect.  \\
\texttt{Jack Server [s]} &
   * Name of JACK server.
   Sets the name of an audio server to which JACK will try to connect. \\
\texttt{Jack Auto [s]} &
   * Connect JACK on start (Enable; other = disable).
   Determines whether JACK will try to connect the main L=R audio outputs at
   start-up time. \\
\texttt{ROot [s]} &
   Root CC (Msb, Lsb, Off).
   Provides the MIDI CC that \textsl{Yoshimi} expects bank root changes to come
   from.  \\
\texttt{BAnk [s]} &
   Bank CC (Msb, Lsb, Off).
   Provides the MIDI CC that \textsl{Yoshimi} expects
   bank changes to come from.  \\
\texttt{PRogram [s]} &
   MIDI program change enabling (OFF / other).
   Determines whether MIDI program changes are honoured or ignored.  \\
\texttt{ACtivate [s]} &
   MIDI program change activates part (ON / other).
   Enables a part when it gets a MIDI program change message,
   if it was disabled.  \\
\texttt{EXtended [n]} &
   Extended program change.
   Sets a MIDI CC for receiving program changes for the top (extra)
   32 instruments in a bank, or disable if above 119  \\
\texttt{Quiet [s]} &
   Ignore 'reset all controllers' (ON / other).
   Sets up to ignore MIDI 'reset all controllers' messages. \\
\texttt{Nrpn [s]} &
   enable incoming NRPNs (ON / other).
   Displays the value of received MIDI CCs. \\
\texttt{Log [s]} &
   Log incoming MIDI CCs (ON / other).
   Displays the value of received MIDI CCs. \\
\texttt{SHow [s]} &
   GUI MIDI learn editor (ON / other).
   A setting for the GUI MIDI learn editor, where s is "Enable", or some
   other token to disable the feature.
   This setting indicates to automatically open the MIDI-learn editor window
   when a successful "learn" has been made.  \\

\end{longtable}
\end{center}

   '*' marks entries that need to be saved, and \textsl{Yoshimi}
   restarted, to activate them.

\subsection{Command Descriptions}
\label{subsec:command_line_command_descriptions}

   This section describes the command-line commands in more detail.
   Obviously, some more needs to be written about some of the commands.
   Note that all the parameters for the \texttt{load} and \texttt{save}
   parameters are strings, and the parameters are compulsory, not optional.

   \setcounter{ItemCounter}{0}      % Reset the ItemCounter for this list.

   \itempar{".."}{cmd!up one level}
      \index{cmd!..}
      Step back up one command context level.
      This command can immediately precede another command, so that the second
      command takes places at the context above the current context.
      Note that it is like the OS's "cd .." command to change to the parent
      directory.

   \itempar{/}{cmd!to top level}
      \index{cmd!/}
      Step back up to the top command context level.
      This command can immediately precede another command, so that the second
      command takes places at the top context.
      Note that it is like the OS's "cd /" command to change to the root
      directory.

   \itempar{add bank [s]}{cmd!add bank}
      Define a new bank, \textsl{s}, where \textsl{s} is a bank name,
      and add it to the current root.

   \itempar{remove bank [s]}{cmd!remove bank}
      Delete the bank named \textsl{s}, and all its contents,
      from the current root path.

   \itempar{export bank [s [n1]] [n2] [s]}{cmd!export bank}
      The command line now has two commands to provide access to the new bank
      export and import controls. These are top level controls and are used as
      below.  The command above is used to export a bank. The square bracket term
      is optional, and enables one to select a different root to export from and
      would be in the form:

\begin{verbatim}
   EXport Root (root ID number) (bank ID number) (full path name to export to)
\end{verbatim}

   If one is happy to export from the currently selected root, then this
   simplifies to:

\begin{verbatim}
   EXport (bank ID number) (full path name to export to)
\end{verbatim}

   \itempar{import bank [s [n1]] [n2] [s]}{cmd!import bank}
      Import of a bank uses the identical syntax of the export command.
      A full example using the normal abbreviations is:

\begin{verbatim}
   im r 5 25 /home/will/downloads/some new bank
\end{verbatim}

      This will look for the directory "some new bank" (spaces are accepted) in
      the download directory of user "will". It will then copy it into bank number
      25 of root number 5. It first checks to ensure that the new named bank
      exists, root 5 exists, and bank 25 is empty.

   \itempar{add root [s]}{cmd!add root}
      Define a new root path, \textsl{s}, and add it to the list of root paths.

   \itempar{remove root [s]}{cmd!remove root}
      De-list the root path named \textsl{s}, but doesn't alter the contents.

   \itempar{list banks [n]}{cmd!list banks}
      List the instruments and IDs in bank \textsl{n} or the
      current bank/root.

   \itempar{list effects [s]}{cmd!list effects}
      List effect types for \textsl{s}.
      If the parameter is the word \textsl{all},
      then list every effect and all its
      presets along with the preset number.

   \itempar{list history [s]}{cmd!list history}
      Displays the recently-used files, including patchsets, scales, and
      states.  If no parameter is given, then this command lists all three
      files in sequence.  The shortest version of this command is
      \texttt{l h p} (for patchsets, which returns the last-seen patchset list).

      \index{at-sign}
      \index{cmd!at-sign}
      \index{cmd!list operator}
      Once that list is displayed,
      the \texttt{@} operator can be used to access
      the item by number.  For example, to load the patch set at location 4 in
      the list:

      \begin{verbatim}
         yoshimi> lo p @4
      \end{verbatim}

   \itempar{list instruments [n]}{cmd!list instruments}
      List all instruments and IDs in bank \textsl{n}
      or the current bank/root.
      Listing instruments will identify the current one with an asterisk, and
      shows the current bank and root one is listing from, and adds a suffix to
      the entry with \textbf{A}, \textbf{S}, or \textbf{P}
      depending on the combination of AddSynth, SubSynth, and PadSynth.

   \itempar{list parts}{cmd!list parts}
      Lists the number of parts available and parts with instruments
      currently installed along with any enabled with the default sound.
      Also shows their audio destination:
      \textsl{M} = main L/R, \textsl{P} = part L/R, \textsl{B} = both, and
      \textsl{-} = disabled or unavailable.
      This way one can tell if an instrument patch is installed even if it is
      not currently usable.
      To avoid unnecessary list length, the default "Simple Sound" is not shown
      unless it is enabled.

   \itempar{list roots}{cmd!list roots}
      Displays all defined root paths.
      Listing roots will identify the current ones with an asterisk.

   \itempar{list setup}{cmd!list setup}
      Displays the current dynamic system settings.

   \itempar{list vector [n]}{cmd!list vector}
      Lists the settings for vector on channel \textsl{n}.

   \itempar{load instrument [s]}{cmd!load instrument}
      Loads an instrument into the current part from the named file.
%     The file-name parameter \textsl{s} is mandatory.

   \itempar{load patchset [s]}{cmd!load instrument}
      Load a complete patch set from a named file, \textsl{s}.
      A variation on this command is \texttt{load patchset @4}, which
      loads the patchset at location 4, the 4th item in the list.

   \itempar{load vector [s]}{cmd!load vector}
      Loads an vector setup from the named file.
      The file-name parameter \textsl{s} is mandatory.

   \itempar{save patchset [s]}{cmd!save patchset}
      Saves the current patchset to the file named \textsl{s}.

   \itempar{save instrument [s]}{cmd!save instrument}
      Saves the instrument of the current part to the named file.
      The file-name parameter \textsl{s} is mandatory.

   \itempar{save setup}{cmd!save setup}
      Save the current dynamic system settings.
      Most settings get saved to the state file for the current instance,
      but a few are saved in the master config file.

   \itempar{save vector [s]}{cmd!save vector}
      Saves the vector setup to the named file.
      The file-name parameter \textsl{s} is mandatory.

   \itempar{set activate [n]}{cmd!set activate}
      Set part-activate on MIDI program change.
      \textsl{n}=0 disables this feature, and
      1 or any non-zero value enables this feature.
      This feature applies to command line program change as well.

   \itempar{set alsa audio [s]}{cmd!set alsa audio}
      Sets the name of the audio hardware device ALSA looks for.
      Requires a restart of \textsl{Yoshimi}.

   \itempar{set alsa midi [s]}{cmd!set alsa midi}
      Sets the name of the MIDI source ALSA looks for.
      Requires a restart of \textsl{Yoshimi}.

   \itempar{set available [n]}{cmd!set available}
      Set the number of available parts (16, 32, 64).
      Note that 32 and 64 are supported in the newest versions of
      \textsl{Yoshimi}.  Also note that a single two-part vector setup (the
      \textbf{X} vector) requires 32 parts, while the dual two-part vector
      setup (both \textbf{X} and \textbf{Y}) requires 64 parts.

   \itempar{set bank [n]}{cmd!set ccbank}
      Set the MIDI CC for bank changes ((Msb, Lsb, Off)).

   \itempar{set root [n]}{cmd!set ccroot}
      Set the MIDI CC for root path changes ((Msb, Lsb, Off)).

   \itempar{set extend [n]}{cmd!set extend}
      Set CC value for extended program change (values above 119 disables this
      feature).

   \itempar{set insert effect [n]}{cmd!set insert effects}
      Set insertion effect for editing. Where \textsl{n} is from 1 to 8.

   \itempar{set jack midi [s]}{cmd!set jack midi}
      Sets the name of the JACK MIDI source for \textsl{Yoshimi}.
      Requires a restart of \textsl{Yoshimi}.

   \itempar{set jack server [s]}{cmd!set jack server}
      Sets the name of the JACK server \textsl{Yoshimi} tries to connect to.
      Requires a restart of \textsl{Yoshimi}.

   \itempar{set part [n1] program [n2]}{cmd!set part program}
      Load instrument \textsl{n2} into part \textsl{n1}.
      Example: \texttt{set part 4 program 130}

   \itempar{set part [n1] channel [n2]}{cmd!set part channel}
      Set the MIDI channel \textsl{n2} for part \textsl{n1}.
      If the channel number is greater than 15, no further MIDI
      messages will be accepted by that part.

   \itempar{set part [n1] destination [n2]}{cmd!set part destination}
      Set the audio destination of part \textsl{n1}
      to main (\textsl{1}), part (\textsl{2}), both (\textsl{3}).
      Also enables the part if not already enabled.

   \itempar{set preferred audio [s]}{cmd!set preferred audio}
      Set the audio connection type.
      The parameter should be either "jack" or "alsa".

   \itempar{set preferred midi [s]}{cmd!set preferred midi}
      Set the MIDI connection type.
      The parameter should be either "jack" or "alsa".

   \itempar{set - preset [n]}{cmd!set effect preset}
      Set effect preset.
      Set numbered effect preset.

   \itempar{set program [n]}{cmd!set program}
      Set MIDI program change (0 disables, anything else enables).

   \itempar{set reports [n]}{cmd!set reports}
      Sets the report destination or where messages are displayed, and, to some
      extent, which messages are displayed.  Here are the variations on this
      command that are supported:

      \begin{itemize}
         \item \texttt{set reports gui} or \texttt{s r g}.
            All reports are sent to the GUI console window.
         \item \texttt{set reports stderr} or \texttt{s r s}.
            All reports are sent to stderr.
         \item \texttt{set reports show} or \texttt{s r sh}.
            All messages are displayed.
         \item \texttt{set reports hide} or \texttt{s r h}.
            Non fatal low-level messages are discarded.
         \item \texttt{set reports (any other word or nothing at all)} or
            \texttt{s r (other)}.
            This sets the default condition of sending reports to the CLI and
            displaying all of them.
      \end{itemize}

   \itempar{set root [n]}{cmd!set root}
      Set current root path to ID \textsl{n}.

   \itempar{set shift [n]}{cmd!set shift}
      Set the master key shift for following notes in semitones (+-
      octave, 64 for no shift).

   \itempar{set system effects [n]}{cmd!set system effects}
      Set System Effects for editing.

   \itempar{set vector [n1] x/y cc [n2]}{cmd!set vector cc}
      CC \textsl{n2} is used for channel \textsl{n1} X or Y axis sweep.
      For X, this also enables vector control for the channel.

      \index{vector!features}
      The individual features are now numbered 1-4 and can be
      \index{vector!enable} \texttt{enabled} or
      \index{vector!reverse} \texttt{reversed} (any
      other word disables the feature).
      "Reversed" means that, instead of the X left rising in
      value with increasing CC value, it decreases.
      X right does the opposite of course.

      Feature 1 is always fixed as 7 (volume) and is not reversible.
      Features 2 to 4 can also have the outgoing CC changed to any valid one.
      The vector is just about the only command-line
      entry that starts from 1.

      The original system where bits were ORred together was done to make NRPN
      control as efficient as possible. That hasn't changed, but log messages
      refer to the command-line numbering.

      A more detailed discussion of command-line vector control is presented in
      \sectionref{subsection:vector_command_line}.

   \itempar{set vector [n1] x/y features [n2]}{cmd!set vector features}
      Sets channel \textsl{n1} X or Y features to \textsl{n2}.

   \itempar{set vector [n1] x/y program [l/r] [n2]}{cmd!set vector program}
      Loads program \textsl{n2} to channel \textsl{n1} X or Y
      \textsl{left} or \textsl{right} part.

   \itempar{set vector [n1] x/y control [n2] [n3]}{cmd!set vector control}
      Sets \texttt{n3} CC to use for X or Y feature \texttt{n2} (2, 4, 8).
      \textsl{n3} is the CC to be used for feature number \textsl{n2} on X
      vector channel \textsl{n1}. The \textsl{x} is a sort of hidden parameter
      as the code uses an offset dependent on whether it is \textsl{x} or
      \textsl{y}. Also \textsl{n1} can be omitted in which case it will use the
      last defined channel number. Using alternate words and numbers gives a
      great deal of flexibility like this.

   \itempar{set vector [n] [off]}{cmd!set vector}
      Disables vector control for channel \textsl{n}.

   \itempar{set volume [n]}{cmd!set volume}
      Set the master volume.

   \itempar{reset}{cmd!reset}
      Return to the start-up conditions, if 'y' selected.

   \itempar{stop}{cmd!stop}
      Cease all sound immediately!

   \itempar{? or help}{cmd!help}
      List commands for current mode.  All of the minimum command-line
      abbreviations are capitalised in the help listing.

   \itempar{exit}{cmd!exit}
         Tidy up and close \textsl{Yoshimi} down.

\subsection{Direct Access}
\label{subsec:command_line_direct_access}

   \index{Direct Access}
   \index{cmd!direct access}
   \textsl{Direct Access} is a very low-level access method for most of the
   controls in \textsl{Yoshimi} control.
   It is a test feature accessible only from the command line.
   There are virtually no error checks on direct-access, so one can easily
   crash \textsl{Yoshimi} with out of range values.
   It mostly updates the GUI too.

%   Since V1.5.11 users are strongly discouraged from using it as numerical
%   values will be changing and all available controls are now provided in a
%   fully protected manner by the above listed commands.

    Since V 1.6.0 direct access has been disabled as it no longer produces
    valid data. Also, all available controls are now provided in a fully
    protected manner.

   For developers there is relevant information within the source code.

%-------------------------------------------------------------------------------
% vim: ts=3 sw=3 et ft=tex
%-------------------------------------------------------------------------------
